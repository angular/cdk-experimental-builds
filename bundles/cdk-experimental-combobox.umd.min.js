!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/cdk/bidi"),require("@angular/cdk/coercion"),require("@angular/cdk/keycodes"),require("rxjs")):"function"==typeof define&&define.amd?define("@angular/cdk-experimental/combobox",["exports","@angular/core","@angular/cdk/overlay","@angular/cdk/portal","@angular/cdk/bidi","@angular/cdk/coercion","@angular/cdk/keycodes","rxjs"],t):t(((e=e||self).ng=e.ng||{},e.ng.cdkExperimental=e.ng.cdkExperimental||{},e.ng.cdkExperimental.combobox={}),e.ng.core,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.keycodes,e.rxjs)}(this,(function(e,t,o,n,i,r,s,a){"use strict";
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var c=function(){function e(e,o,n,i){this._elementRef=e,this._overlay=o,this._viewContainerRef=n,this._directionality=i,this._disabled=!1,this._openActions=["click"],this._autoSetText=!0,this.opened=new t.EventEmitter,this.closed=new t.EventEmitter,this.panelValueChanged=new t.EventEmitter,this.contentId=""}return Object.defineProperty(e.prototype,"panel",{get:function(){return this._panel},set:function(e){this._panel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=r.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openActions",{get:function(){return this._openActions},set:function(e){this._openActions=this._coerceOpenActionProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoSetText",{get:function(){return this._autoSetText},set:function(e){this._autoSetText=r.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e,t,o,n=this;null===(e=this._panel)||void 0===e||e.valueUpdated.subscribe((function(e){n._setComboboxValue(e),n.close()})),null===(t=this._panel)||void 0===t||t.contentIdUpdated.subscribe((function(e){n.contentId=e})),null===(o=this._panel)||void 0===o||o.contentTypeUpdated.subscribe((function(e){n.contentType=e}))},e.prototype.ngOnDestroy=function(){this._overlayRef&&this._overlayRef.dispose(),this.opened.complete(),this.closed.complete(),this.panelValueChanged.complete()},e.prototype._keydown=function(e){var t,o=e.keyCode;o===s.DOWN_ARROW?this.isOpen()?null===(t=this._panel)||void 0===t||t.focusContent():-1!==this._openActions.indexOf("downKey")&&this.open():o===s.ENTER?-1!==this._openActions.indexOf("toggle")?this.toggle():-1!==this._openActions.indexOf("click")&&this.open():o===s.ESCAPE?(e.preventDefault(),this.close()):o===s.TAB&&this.close()},e.prototype._handleInteractions=function(e){"click"===e?-1!==this._openActions.indexOf("toggle")?this.toggle():-1!==this._openActions.indexOf("click")&&this.open():"focus"===e&&-1!==this._openActions.indexOf("focus")&&this.open()},e.prototype._attemptClose=function(e){if(this.isOpen())for(var t=e.composedPath?e.composedPath()[0]:e.target;t instanceof Element;){if(-1!==t.className.indexOf("cdk-combobox"))return;t=t.parentElement}this.close()},e.prototype.toggle=function(){this.hasPanel()&&(this.isOpen()?this.close():this.open())},e.prototype.open=function(){var e;this.isOpen()||this.disabled||(this.opened.next(),this._overlayRef=this._overlayRef||this._overlay.create(this._getOverlayConfig()),this._overlayRef.attach(this._getPanelContent()),this._isTextTrigger()||null===(e=this._panel)||void 0===e||e.focusContent())},e.prototype.close=function(){this.isOpen()&&!this.disabled&&(this.closed.next(),this._overlayRef.detach())},e.prototype.isOpen=function(){return!!this._overlayRef&&this._overlayRef.hasAttached()},e.prototype.hasPanel=function(){return!!this.panel},e.prototype._getTabIndex=function(){return this.disabled?null:"0"},e.prototype._setComboboxValue=function(e){var t=this.value!==e;this.value=e,t&&(this.panelValueChanged.emit(r.coerceArray(e)),this._autoSetText&&this._setTextContent(e))},e.prototype._setTextContent=function(e){var t=r.coerceArray(e);this._elementRef.nativeElement.textContent=t.join(" ")},e.prototype._isTextTrigger=function(){var e=this._elementRef.nativeElement.tagName.toLowerCase();return"input"===e||"textarea"===e},e.prototype._getOverlayConfig=function(){return new o.OverlayConfig({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.block(),direction:this._directionality})},e.prototype._getOverlayPositionStrategy=function(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withPositions(this._getOverlayPositions())},e.prototype._getOverlayPositions=function(){return[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}]},e.prototype._getPanelContent=function(){var e,t,o=(null===(e=this._panel)||void 0===e?void 0:e._templateRef)!==(null===(t=this._panelContent)||void 0===t?void 0:t.templateRef);return!this._panel||this._panel&&!o||(this._panelContent=new n.TemplatePortal(this._panel._templateRef,this._viewContainerRef)),this._panelContent},e.prototype._coerceOpenActionProperty=function(e){return"string"==typeof e?e.trim().split(/[ ,]+/):e},e}();c.decorators=[{type:t.Directive,args:[{selector:"[cdkCombobox]",exportAs:"cdkCombobox",host:{role:"combobox",class:"cdk-combobox","(click)":'_handleInteractions("click")',"(focus)":'_handleInteractions("focus")',"(keydown)":"_keydown($event)","(document:click)":"_attemptClose($event)","[attr.aria-disabled]":"disabled","[attr.aria-owns]":"contentId","[attr.aria-haspopup]":"contentType","[attr.aria-expanded]":"isOpen()","[attr.tabindex]":"_getTabIndex()"}}]}],c.ctorParameters=function(){return[{type:t.ElementRef},{type:o.Overlay},{type:t.ViewContainerRef},{type:i.Directionality,decorators:[{type:t.Optional}]}]},c.propDecorators={panel:[{type:t.Input,args:["cdkComboboxTriggerFor"]}],value:[{type:t.Input}],disabled:[{type:t.Input}],openActions:[{type:t.Input}],autoSetText:[{type:t.Input}],opened:[{type:t.Output,args:["comboboxPanelOpened"]}],closed:[{type:t.Output,args:["comboboxPanelClosed"]}],panelValueChanged:[{type:t.Output,args:["panelValueChanged"]}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var l=function(){function e(e){this._templateRef=e,this.valueUpdated=new a.Subject,this.contentIdUpdated=new a.Subject,this.contentTypeUpdated=new a.Subject,this.contentId=""}return e.prototype.closePanel=function(e){this.valueUpdated.next(e)},e.prototype.focusContent=function(){var e;null===(e=document.getElementById(this.contentId))||void 0===e||e.focus()},e.prototype._registerContent=function(e,t){if(!this.contentType||this.contentType===t){if(this.contentId=e,"listbox"!==t&&"dialog"!==t)throw Error("CdkComboboxPanel currently only supports listbox or dialog content.");this.contentType=t,this.contentIdUpdated.next(this.contentId),this.contentTypeUpdated.next(this.contentType)}},e}();l.decorators=[{type:t.Directive,args:[{host:{class:"cdk-combobox-panel"},selector:"ng-template[cdkComboboxPanel]",exportAs:"cdkComboboxPanel"}]}],l.ctorParameters=function(){return[{type:t.TemplateRef}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var p=new t.InjectionToken("CdkComboboxPanel"),u=0,d=function(){function e(e,t){this._elementRef=e,this._parentPanel=t,this._role="dialog",this.id="cdk-combobox-popup-"+u++}return Object.defineProperty(e.prototype,"role",{get:function(){return this._role},set:function(e){this._role=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstFocus",{get:function(){return this._firstFocusElement},set:function(e){this._firstFocusElement=e},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.registerWithPanel()},e.prototype.registerWithPanel=function(){null==this._parentPanel?this._explicitPanel._registerContent(this.id,this._role):this._parentPanel._registerContent(this.id,this._role)},e.prototype.focusFirstElement=function(){this._firstFocusElement?this._firstFocusElement.focus():this._elementRef.nativeElement.focus()},e}();d.decorators=[{type:t.Directive,args:[{selector:"[cdkComboboxPopup]",exportAs:"cdkComboboxPopup",host:{class:"cdk-combobox-popup","[attr.role]":"role","[id]":"id",tabindex:"-1","(focus)":"focusFirstElement()"}}]}],d.ctorParameters=function(){return[{type:t.ElementRef},{type:l,decorators:[{type:t.Optional},{type:t.Inject,args:[p]}]}]},d.propDecorators={role:[{type:t.Input}],firstFocus:[{type:t.Input}],id:[{type:t.Input}],_explicitPanel:[{type:t.Input,args:["parentPanel"]}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var h,f=[c,l,d];(h=function h(){}).decorators=[{type:t.NgModule,args:[{imports:[o.OverlayModule],exports:f,declarations:f}]}],
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
e.CdkCombobox=c,e.CdkComboboxModule=h,e.CdkComboboxPanel=l,e.CdkComboboxPopup=d,e.PANEL=p,Object.defineProperty(e,"__esModule",{value:!0})}));