!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/a11y"),require("@angular/cdk/keycodes"),require("@angular/cdk/coercion"),require("@angular/cdk/collections"),require("rxjs"),require("rxjs/operators"),require("@angular/forms"),require("@angular/cdk-experimental/combobox"),require("@angular/cdk/bidi")):"function"==typeof define&&define.amd?define("@angular/cdk-experimental/listbox",["exports","@angular/core","@angular/cdk/a11y","@angular/cdk/keycodes","@angular/cdk/coercion","@angular/cdk/collections","rxjs","rxjs/operators","@angular/forms","@angular/cdk-experimental/combobox","@angular/cdk/bidi"],t):t(((e=e||self).ng=e.ng||{},e.ng.cdkExperimental=e.ng.cdkExperimental||{},e.ng.cdkExperimental.listbox={}),e.ng.core,e.ng.cdk.a11y,e.ng.cdk.keycodes,e.ng.cdk.coercion,e.ng.cdk.collections,e.rxjs,e.rxjs.operators,e.ng.forms,e.ng.cdkExperimental.combobox,e.ng.cdk.bidi)}(this,(function(e,t,i,n,o,r,s,a,c,l,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function d(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,r=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return s}var h=0,f=0,y={provide:c.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return g})),multi:!0},_=new t.InjectionToken("CdkComboboxPanel"),v=function(){function e(e,i){this._elementRef=e,this.listbox=i,this._selected=!1,this._disabled=!1,this._active=!1,this.id="cdk-option-"+h++,this.selectionChange=new t.EventEmitter}return Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._disabled||(this._selected=o.coerceBooleanProperty(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=o.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this.selected&&e!==this._value&&this.deselect(),this._value=e},enumerable:!1,configurable:!0}),e.prototype.toggle=function(){this._isInteractionDisabled()||(this.selected=!this.selected,this._emitSelectionChange(!0))},e.prototype.activate=function(){this._isInteractionDisabled()||(this._active=!0)},e.prototype.deactivate=function(){this._isInteractionDisabled()||(this._active=!1)},e.prototype.select=function(){this.selected||(this.selected=!0,this._emitSelectionChange())},e.prototype.deselect=function(){this.selected&&(this.selected=!1,this._emitSelectionChange())},e.prototype.focus=function(){this._elementRef.nativeElement.focus()},e.prototype._isInteractionDisabled=function(){return this.listbox.disabled||this._disabled},e.prototype._emitSelectionChange=function(e){void 0===e&&(e=!1),this.selectionChange.emit({source:this,isUserInput:e})},e.prototype._getTabIndex=function(){return this._isInteractionDisabled()?null:"-1"},e.prototype.getLabel=function(){var e,t=this._elementRef.nativeElement.cloneNode(!0);return this._removeIcons(t),(null===(e=t.textContent)||void 0===e?void 0:e.trim())||""},e.prototype._removeIcons=function(e){var t,i,n;try{for(var o=d(Array.from(e.querySelectorAll("mat-icon, .material-icons"))),r=o.next();!r.done;r=o.next()){var s=r.value;null===(n=s.parentNode)||void 0===n||n.removeChild(s)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}},e.prototype.getElementRef=function(){return this._elementRef},e.prototype.setActiveStyles=function(){this._active=!0},e.prototype.setInactiveStyles=function(){this._active=!1},e}();v.decorators=[{type:t.Directive,args:[{selector:"[cdkOption]",exportAs:"cdkOption",host:{role:"option",class:"cdk-option","(click)":"toggle()","(focus)":"activate()","(blur)":"deactivate()","[id]":"id","[attr.aria-selected]":"selected || null","[attr.tabindex]":"_getTabIndex()","[attr.aria-disabled]":"_isInteractionDisabled()","[class.cdk-option-disabled]":"_isInteractionDisabled()","[class.cdk-option-active]":"_active","[class.cdk-option-selected]":"selected"}}]}],v.ctorParameters=function(){return[{type:t.ElementRef},{type:g,decorators:[{type:t.Inject,args:[t.forwardRef((function(){return g}))]}]}]},v.propDecorators={id:[{type:t.Input}],selected:[{type:t.Input}],disabled:[{type:t.Input}],value:[{type:t.Input}],selectionChange:[{type:t.Output}]};var g=function(){function e(e,i){var n=this;this._parentPanel=e,this._dir=i,this._tabIndex=0,this._onTouched=function(){},this._onChange=function(){},this.optionSelectionChanges=s.defer((function(){var e=n._options;return e.changes.pipe(a.startWith(e),a.switchMap((function(){return s.merge.apply(void 0,function t(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}(e.map((function(e){return e.selectionChange}))))})))})),this._disabled=!1,this._multiple=!1,this._useActiveDescendant=!1,this._autoFocus=!0,this._destroyed=new s.Subject,this.selectionChange=new t.EventEmitter,this.id="cdk-listbox-"+f++,this.orientation="vertical",this.compareWith=function(e,t){return e===t}}return Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._updateSelectionOnMultiSelectionChange(e),this._multiple=o.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=o.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useActiveDescendant",{get:function(){return this._useActiveDescendant},set:function(e){this._useActiveDescendant=o.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoFocus",{get:function(){return this._autoFocus},set:function(e){this._autoFocus=o.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this._selectionModel=new r.SelectionModel(this.multiple)},e.prototype.ngAfterContentInit=function(){var e=this;this._initKeyManager(),this._initSelectionModel(),this._registerWithPanel(),this.optionSelectionChanges.subscribe((function(t){e._emitChangeEvent(t.source),e._updateSelectionModel(t.source),e.setActiveOption(t.source),e._updatePanelForSelection(t.source)}))},e.prototype.ngOnDestroy=function(){this._listKeyManager.change.complete(),this._destroyed.next(),this._destroyed.complete()},e.prototype._registerWithPanel=function(){var e=this._parentPanel||this._explicitPanel;null==e||e._registerContent(this.id,"listbox")},e.prototype._initKeyManager=function(){var e,t=this;this._listKeyManager=new i.ActiveDescendantKeyManager(this._options).withWrap().withTypeAhead().withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),"vertical"===this.orientation?this._listKeyManager.withVerticalOrientation():this._listKeyManager.withHorizontalOrientation((null===(e=this._dir)||void 0===e?void 0:e.value)||"ltr"),this._listKeyManager.change.pipe(a.takeUntil(this._destroyed)).subscribe((function(){t._updateActiveOption()}))},e.prototype._initSelectionModel=function(){this._selectionModel.changed.pipe(a.takeUntil(this._destroyed)).subscribe((function(e){var t,i,n,o;try{for(var r=d(e.added),s=r.next();!s.done;s=r.next())s.value.selected=!0}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}try{for(var a=d(e.removed),c=a.next();!c.done;c=a.next())c.value.selected=!1}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}))},e.prototype._keydown=function(e){if(!this._disabled){var t=this._listKeyManager,i=e.keyCode,o=t.activeItemIndex;i===n.SPACE||i===n.ENTER?(t.activeItem&&!t.isTyping()&&this._toggleActiveOption(),e.preventDefault()):t.onKeydown(e),(i===n.UP_ARROW||i===n.DOWN_ARROW||i===n.LEFT_ARROW||i===n.RIGHT_ARROW)&&e.shiftKey&&o!==this._listKeyManager.activeItemIndex&&this._toggleActiveOption()}},e.prototype._emitChangeEvent=function(e){this.selectionChange.emit({source:this,option:e})},e.prototype._updateSelectionModel=function(e){this.multiple||0===this._selectionModel.selected.length||this.deselect(this._selectionModel.selected[0]),e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)},e.prototype._updatePanelForSelection=function(e){var t=this._parentPanel||this._explicitPanel;this.multiple?null==t||t.closePanel(this.getSelectedValues()):e.selected?null==t||t.closePanel(e.value):null==t||t.closePanel()},e.prototype._toggleActiveOption=function(){var e=this._listKeyManager.activeItem;e&&!e.disabled&&e.toggle()},e.prototype._getAriaActiveDescendant=function(){var e,t;return this._useActiveDescendant?null===(t=null===(e=this._listKeyManager)||void 0===e?void 0:e.activeItem)||void 0===t?void 0:t.id:null},e.prototype._updateActiveOption=function(){var e;this._listKeyManager.activeItem&&(null===(e=this._activeOption)||void 0===e||e.deactivate(),this._activeOption=this._listKeyManager.activeItem,this._activeOption.activate(),this.useActiveDescendant||this._activeOption.focus())},e.prototype._updateSelectionOnMultiSelectionChange=function(e){var t;this.multiple&&!e?this.setAllSelected(!1):!this.multiple&&e&&(this._selectionModel=new r.SelectionModel(e,null===(t=this._selectionModel)||void 0===t?void 0:t.selected))},e.prototype._focusActiveOption=function(){this.autoFocus&&(this._listKeyManager.activeItem?this.setActiveOption(this._listKeyManager.activeItem):this._options.first&&this.setActiveOption(this._options.first))},e.prototype.select=function(e){this.disabled||e.disabled||e.select()},e.prototype.deselect=function(e){this.disabled||e.disabled||e.deselect()},e.prototype.setAllSelected=function(e){var t,i;try{for(var n=d(this._options.toArray()),o=n.next();!o.done;o=n.next()){var r=o.value;e?this.select(r):this.deselect(r)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.prototype.setActiveOption=function(e){this._listKeyManager.updateActiveItem(e),this._updateActiveOption()},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.writeValue=function(e){this._options&&this._setSelectionByValue(e)},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.getSelectedValues=function(){return this._options.filter((function(e){return e.selected})).map((function(e){return e.value}))},e.prototype._setSelectionByValue=function(e){var t,i,n,r,s=this;try{for(var a=d(this._options.toArray()),c=a.next();!c.done;c=a.next())this.deselect(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}var l=o.coerceArray(e),u=function(e){var t=p._options.find((function(t){return null!=t.value&&s.compareWith(t.value,e)}));if(t&&(p.select(t),!p.multiple))return{value:void 0}},p=this;try{for(var h=d(l),f=h.next();!f.done;f=h.next()){var y=u(f.value);if("object"==typeof y)return y.value}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}},e}();g.decorators=[{type:t.Directive,args:[{selector:"[cdkListbox]",exportAs:"cdkListbox",host:{role:"listbox",class:"cdk-listbox","[id]":"id","(focus)":"_focusActiveOption()","(keydown)":"_keydown($event)","[attr.tabindex]":"_tabIndex","[attr.aria-disabled]":"disabled","[attr.aria-multiselectable]":"multiple","[attr.aria-activedescendant]":"_getAriaActiveDescendant()","[attr.aria-orientation]":"orientation"},providers:[y]}]}],g.ctorParameters=function(){return[{type:l.CdkComboboxPanel,decorators:[{type:t.Optional},{type:t.Inject,args:[_]}]},{type:u.Directionality,decorators:[{type:t.Optional}]}]},g.propDecorators={_options:[{type:t.ContentChildren,args:[v,{descendants:!0}]}],selectionChange:[{type:t.Output}],id:[{type:t.Input}],multiple:[{type:t.Input}],disabled:[{type:t.Input}],useActiveDescendant:[{type:t.Input}],autoFocus:[{type:t.Input}],orientation:[{type:t.Input,args:["listboxOrientation"]}],compareWith:[{type:t.Input}],_explicitPanel:[{type:t.Input,args:["parentPanel"]}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var b,m=[g,v];(b=function b(){}).decorators=[{type:t.NgModule,args:[{exports:m,declarations:m}]}],
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
e.CDK_LISTBOX_VALUE_ACCESSOR=y,e.CdkListbox=g,e.CdkListboxModule=b,e.CdkOption=v,e.PANEL=_,Object.defineProperty(e,"__esModule",{value:!0})}));