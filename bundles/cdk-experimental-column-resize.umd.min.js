!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk-experimental/popover-edit"),require("@angular/common"),require("@angular/cdk/coercion"),require("@angular/cdk/portal"),require("@angular/cdk/keycodes")):"function"==typeof define&&define.amd?define("@angular/cdk-experimental/column-resize",["exports","@angular/core","rxjs","rxjs/operators","@angular/cdk-experimental/popover-edit","@angular/common","@angular/cdk/coercion","@angular/cdk/portal","@angular/cdk/keycodes"],t):t(((e=e||self).ng=e.ng||{},e.ng.cdkExperimental=e.ng.cdkExperimental||{},e.ng.cdkExperimental.columnResize={}),e.ng.core,e.rxjs,e.rxjs.operators,e.ng.cdkExperimental.popoverEdit,e.ng.common,e.ng.cdk.coercion,e.ng.cdk.portal,e.ng.cdk.keycodes)}(this,(function(e,t,i,n,r,o,s,a,l){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function u(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function p(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var h=0,f=function(){function e(){this.destroyed=new i.Subject,this.selectorId=""+ ++h}return e.prototype.ngAfterViewInit=function(){this.elementRef.nativeElement.classList.add(this.getUniqueCssClass()),this._listenForRowHoverEvents(),this._listenForResizeActivity(),this._listenForHoverActivity()},e.prototype.ngOnDestroy=function(){this.destroyed.next(),this.destroyed.complete()},e.prototype.getUniqueCssClass=function(){return"cdk-column-resize-"+this.selectorId},e.prototype.setResized=function(){this.elementRef.nativeElement.classList.add("cdk-column-resize-with-resized-column")},e.prototype._listenForRowHoverEvents=function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=e.elementRef.nativeElement;i.fromEvent(t,"mouseover").pipe(n.map((function(e){return r._closest(e.target,".cdk-header-cell, .mat-header-cell")})),n.takeUntil(e.destroyed)).subscribe(e.eventDispatcher.headerCellHovered),i.fromEvent(t,"mouseleave").pipe(n.filter((function(e){return!!e.relatedTarget&&!r._matches(e.relatedTarget,".mat-column-resize-overlay-thumb")})),n.mapTo(null),n.takeUntil(e.destroyed)).subscribe(e.eventDispatcher.headerCellHovered)}))},e.prototype._listenForResizeActivity=function(){var e=this;i.merge(this.eventDispatcher.overlayHandleActiveForCell.pipe(n.mapTo(void 0)),this.notifier.triggerResize.pipe(n.mapTo(void 0)),this.notifier.resizeCompleted.pipe(n.mapTo(void 0))).pipe(n.takeUntil(this.destroyed),n.take(1)).subscribe((function(){e.setResized()}))},e.prototype._listenForHoverActivity=function(){this.eventDispatcher.headerRowHoveredOrActiveDistinct.pipe(n.startWith(null),n.pairwise(),n.takeUntil(this.destroyed)).subscribe((function(e){var t=p(e,2),i=t[0],n=t[1];n&&n.classList.add("cdk-column-resize-hover-or-active"),i&&i.classList.remove("cdk-column-resize-hover-or-active")}))},e.decorators=[{type:t.Directive}],e}(),m=function(){function e(){this.resizeCanceled=new i.Subject,this.resizeCompleted=new i.Subject,this.triggerResize=new i.Subject}return e.decorators=[{type:t.Injectable}],e}(),y=function(){function e(e){this._source=e,this.resizeCompleted=this._source.resizeCompleted.asObservable()}return e.prototype.resize=function(e,t){this._source.triggerResize.next({columnId:e,size:t,completeImmediately:!0})},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:m}]},e}(),v=function(){function e(e){this._ngZone=e,this.headerCellHovered=new i.Subject,this.overlayHandleActiveForCell=new i.Subject,this.headerCellHoveredDistinct=this.headerCellHovered.pipe(n.distinctUntilChanged(),n.share()),this.headerRowHoveredOrActiveDistinct=i.combineLatest(this.headerCellHoveredDistinct.pipe(n.map((function(e){return r._closest(e,".cdk-header-row, .mat-header-row")})),n.startWith(null),n.distinctUntilChanged()),this.overlayHandleActiveForCell.pipe(n.map((function(e){return r._closest(e,".cdk-header-row, .mat-header-row")})),n.startWith(null),n.distinctUntilChanged())).pipe(n.skip(1),n.map((function(e){var t=p(e,2);return t[1]||t[0]})),n.distinctUntilChanged(),n.share()),this._headerRowHoveredOrActiveDistinctReenterZone=this.headerRowHoveredOrActiveDistinct.pipe(this._enterZone(),n.share()),this._lastSeenRow=null,this._lastSeenRowHover=null}return e.prototype.resizeOverlayVisibleForHeaderRow=function(e){return e!==this._lastSeenRow&&(this._lastSeenRow=e,this._lastSeenRowHover=this._headerRowHoveredOrActiveDistinctReenterZone.pipe(n.map((function(t){return t===e})),n.distinctUntilChanged(),n.share())),this._lastSeenRowHover},e.prototype._enterZone=function(){var e=this;return function(t){return new i.Observable((function(i){return t.subscribe({next:function(t){return e._ngZone.run((function(){return i.next(t)}))},error:function(e){return i.error(e)},complete:function(){return i.complete()}})}))}},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:t.NgZone}]},e}(),g=function(){function e(){}return e.prototype.updateTableWidth=function(e){var t=this.columnResize.elementRef.nativeElement,i=z(t);t.style.width=s.coerceCssPixelValue(i+e)},e.decorators=[{type:t.Injectable}],e}(),_=function(e){function i(t){var i=e.call(this)||this;return i.columnResize=t,i}return u(i,e),i.prototype.applyColumnSize=function(e,t,i,n){var r=i-(null!=n?n:z(t));t.style.width=s.coerceCssPixelValue(i),this.updateTableWidth(r)},i.prototype.applyMinColumnSize=function(e,t,i){var n=z(t),r=Math.max(n,i);this.applyColumnSize(e,t,r,n)},i.prototype.applyMaxColumnSize=function(e,t,i){var n=z(t),r=Math.min(n,i);this.applyColumnSize(e,t,r,n)},i.decorators=[{type:t.Injectable}],i.ctorParameters=function(){return[{type:f}]},i}(g),R=function(e){function i(t,i){var n=e.call(this)||this;return n.columnResize=t,n._columnIndexes=new Map,n._columnProperties=new Map,n._indexSequence=0,n.defaultMinSize=0,n.defaultMaxSize=Number.MAX_SAFE_INTEGER,n._document=i,n}return u(i,e),i.prototype.applyColumnSize=function(e,t,i,n){var r=i-(null!=n?n:this._getAppliedWidth(e)||t.offsetWidth),o=s.coerceCssPixelValue(i);this._applyProperty(e,"flex","0 0.01 "+o),this.updateTableWidth(r)},i.prototype.applyMinColumnSize=function(e,t,i){var n=s.coerceCssPixelValue(i);this._applyProperty(e,"min-width",n,i!==this.defaultMinSize)},i.prototype.applyMaxColumnSize=function(e,t,i){var n=s.coerceCssPixelValue(i);this._applyProperty(e,"max-width",n,i!==this.defaultMaxSize)},i.prototype.getColumnCssClass=function(e){return"cdk-column-"+e},i.prototype.ngOnDestroy=function(){this._styleElement&&this._styleElement.parentNode&&(this._styleElement.parentNode.removeChild(this._styleElement),this._styleElement=void 0)},i.prototype._getPropertyValue=function(e,t){return this._getColumnPropertiesMap(e).get(t)},i.prototype._getAppliedWidth=function(e){return function t(e){var t;return Number(null===(t=null==e?void 0:e.match(/0 0\.01 (\d+)px/))||void 0===t?void 0:t[1])}(this._getPropertyValue(e,"flex"))},i.prototype._applyProperty=function(e,t,i,n){void 0===n&&(n=!0);var r=this._getColumnPropertiesMap(e);n?r.set(t,i):r.delete(t),this._applySizeCss(e)},i.prototype._getStyleSheet=function(){return this._styleElement||(this._styleElement=this._document.createElement("style"),this._styleElement.appendChild(this._document.createTextNode("")),this._document.head.appendChild(this._styleElement)),this._styleElement.sheet},i.prototype._getColumnPropertiesMap=function(e){var t=this._columnProperties.get(e);return void 0===t&&(t=new Map,this._columnProperties.set(e,t)),t},i.prototype._applySizeCss=function(e){var t=this._getColumnPropertiesMap(e),i=Array.from(t.keys()),n=this._columnIndexes.get(e);if(void 0===n){if(!i.length)return;n=this._indexSequence++,this._columnIndexes.set(e,n)}else this._getStyleSheet().deleteRule(n);var r=this.getColumnCssClass(e),o="."+this.columnResize.getUniqueCssClass()+" ."+r,s=i.map((function(e){return e+":"+t.get(e)})).join(";");this._getStyleSheet().insertRule(o+" {"+s+"}",n)},i.decorators=[{type:t.Injectable}],i.ctorParameters=function(){return[{type:f},{type:void 0,decorators:[{type:t.Inject,args:[o.DOCUMENT]}]}]},i}(g);function z(e){return function t(e){var t;return Number(null===(t=e.match(/(\d+)px/))||void 0===t?void 0:t[1])}(e.style.width)||e.offsetWidth}var x={provide:g,useClass:_},C={provide:g,useClass:R},E=[y,v,m],b=d(E,[x]),S=d(E,[C]),k=function(e){function i(t,i,n,r,o){var s=e.call(this)||this;return s.columnResizeNotifier=t,s.elementRef=i,s.eventDispatcher=n,s.ngZone=r,s.notifier=o,s}return u(i,e),i.decorators=[{type:t.Directive,args:[{selector:"table[cdk-table][columnResize]",providers:d(b,[{provide:f,useExisting:i}])}]}],i.ctorParameters=function(){return[{type:y},{type:t.ElementRef},{type:v},{type:t.NgZone},{type:m}]},i}(f),P=function(e){function i(t,i,n,r,o){var s=e.call(this)||this;return s.columnResizeNotifier=t,s.elementRef=i,s.eventDispatcher=n,s.ngZone=r,s.notifier=o,s}return u(i,e),i.decorators=[{type:t.Directive,args:[{selector:"cdk-table[columnResize]",providers:d(S,[{provide:f,useExisting:i}])}]}],i.ctorParameters=function(){return[{type:y},{type:t.ElementRef},{type:v},{type:t.NgZone},{type:m}]},i}(f),w=function(e){function i(t,i,n,r,o){var s=e.call(this)||this;return s.columnResizeNotifier=t,s.elementRef=i,s.eventDispatcher=n,s.ngZone=r,s.notifier=o,s}return u(i,e),i.decorators=[{type:t.Directive,args:[{selector:"table[cdk-table]",providers:d(b,[{provide:f,useExisting:i}])}]}],i.ctorParameters=function(){return[{type:y},{type:t.ElementRef},{type:v},{type:t.NgZone},{type:m}]},i}(f),O=function(e){function i(t,i,n,r,o){var s=e.call(this)||this;return s.columnResizeNotifier=t,s.elementRef=i,s.eventDispatcher=n,s.ngZone=r,s.notifier=o,s}return u(i,e),i.decorators=[{type:t.Directive,args:[{selector:"cdk-table",providers:d(S,[{provide:f,useExisting:i}])}]}],i.ctorParameters=function(){return[{type:y},{type:t.ElementRef},{type:v},{type:t.NgZone},{type:m}]},i}(f),H=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[w,O],exports:[w,O]}]}],e}(),D=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[k,P],exports:[k,P]}]}],e}(),I=function(){function e(){}return e.decorators=[{type:t.Injectable}],e}(),M=function M(e,t,i,n){this.origin=e,this.overlayRef=t,this.minWidthPx=i,this.maxWidthPx=n},W=function(){function e(){this.minWidthPxInternal=0,this.maxWidthPxInternal=Number.MAX_SAFE_INTEGER,this.destroyed=new i.Subject}return Object.defineProperty(e.prototype,"minWidthPx",{get:function(){return this.minWidthPxInternal},set:function(e){this.minWidthPxInternal=e,this.elementRef.nativeElement&&(this.columnResize.setResized(),this._applyMinWidthPx())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidthPx",{get:function(){return this.maxWidthPxInternal},set:function(e){this.maxWidthPxInternal=e,this.elementRef.nativeElement&&(this.columnResize.setResized(),this._applyMaxWidthPx())},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){this._listenForRowHoverEvents(),this._listenForResizeEvents(),this._appendInlineHandle(),this._applyMinWidthPx(),this._applyMaxWidthPx()},e.prototype.ngOnDestroy=function(){this.destroyed.next(),this.destroyed.complete(),this.inlineHandle&&this.elementRef.nativeElement.removeChild(this.inlineHandle),this.overlayRef&&this.overlayRef.dispose()},e.prototype._createOverlayForHandle=function(){var e="rtl"===this.directionality.value,t=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withFlexibleDimensions(!1).withGrowAfterOpen(!1).withPush(!1).withDefaultOffsetX(e?1:0).withPositions([{originX:e?"start":"end",originY:"top",overlayX:"center",overlayY:"top"}]);return this.overlay.create({direction:"ltr",disposeOnNavigation:!0,positionStrategy:t,scrollStrategy:this.overlay.scrollStrategies.reposition(),width:"16px"})},e.prototype._listenForRowHoverEvents=function(){var e=this,t=this.elementRef.nativeElement,i=n.takeUntil(this.destroyed);this.eventDispatcher.resizeOverlayVisibleForHeaderRow(r._closest(t,".cdk-header-row, .mat-header-row")).pipe(i).subscribe((function(t){t?(e.overlayRef||(e.overlayRef=e._createOverlayForHandle()),e._showHandleOverlay()):e.overlayRef&&e.overlayRef.detach()}))},e.prototype._listenForResizeEvents=function(){var e=this,t=n.takeUntil(this.destroyed);i.merge(this.resizeNotifier.resizeCanceled,this.resizeNotifier.triggerResize).pipe(t,n.filter((function(t){return t.columnId===e.columnDef.name}))).subscribe((function(t){var i=t.size,n=t.previousSize,r=t.completeImmediately;e.elementRef.nativeElement.classList.add("cdk-resizable-overlay-thumb-active"),e._applySize(i,n),r&&e._completeResizeOperation()})),i.merge(this.resizeNotifier.resizeCanceled,this.resizeNotifier.resizeCompleted).pipe(t).subscribe((function(t){e._cleanUpAfterResize(t)}))},e.prototype._completeResizeOperation=function(){var e=this;this.ngZone.run((function(){e.resizeNotifier.resizeCompleted.next({columnId:e.columnDef.name,size:e.elementRef.nativeElement.offsetWidth})}))},e.prototype._cleanUpAfterResize=function(e){this.elementRef.nativeElement.classList.remove("cdk-resizable-overlay-thumb-active"),this.overlayRef&&this.overlayRef.hasAttached()&&(this._updateOverlayHandleHeight(),this.overlayRef.updatePosition(),e.columnId===this.columnDef.name&&this.inlineHandle.focus())},e.prototype._createHandlePortal=function(){var e=new a.PortalInjector(this.injector,new WeakMap([[M,new M(this.elementRef,this.overlayRef,this.minWidthPx,this.maxWidthPx)]]));return new a.ComponentPortal(this.getOverlayHandleComponentType(),this.viewContainerRef,e)},e.prototype._showHandleOverlay=function(){this._updateOverlayHandleHeight(),this.overlayRef.attach(this._createHandlePortal()),this.changeDetectorRef.markForCheck()},e.prototype._updateOverlayHandleHeight=function(){this.overlayRef.updateSize({height:this.elementRef.nativeElement.offsetHeight})},e.prototype._applySize=function(e,t){var i=Math.min(Math.max(e,this.minWidthPx,0),this.maxWidthPx);this.resizeStrategy.applyColumnSize(this.columnDef.cssClassFriendlyName,this.elementRef.nativeElement,i,t)},e.prototype._applyMinWidthPx=function(){this.resizeStrategy.applyMinColumnSize(this.columnDef.cssClassFriendlyName,this.elementRef.nativeElement,this.minWidthPx)},e.prototype._applyMaxWidthPx=function(){this.resizeStrategy.applyMaxColumnSize(this.columnDef.cssClassFriendlyName,this.elementRef.nativeElement,this.maxWidthPx)},e.prototype._appendInlineHandle=function(){this.inlineHandle=this.document.createElement("div"),this.inlineHandle.tabIndex=0,this.inlineHandle.className=this.getInlineHandleCssClassName(),this.elementRef.nativeElement.appendChild(this.inlineHandle)},e.decorators=[{type:t.Directive}],e}(),A=function(){function e(){this.destroyed=new i.Subject}return e.prototype.ngAfterViewInit=function(){this._listenForMouseEvents()},e.prototype.ngOnDestroy=function(){this.destroyed.next(),this.destroyed.complete()},e.prototype._listenForMouseEvents=function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=n.takeUntil(e.destroyed);i.fromEvent(e.elementRef.nativeElement,"mouseenter").pipe(t,n.mapTo(e.resizeRef.origin.nativeElement)).subscribe((function(t){return e.eventDispatcher.headerCellHovered.next(t)})),i.fromEvent(e.elementRef.nativeElement,"mouseleave").pipe(t,n.map((function(e){return e.relatedTarget&&r._closest(e.relatedTarget,".cdk-header-cell, .mat-header-cell")}))).subscribe((function(t){return e.eventDispatcher.headerCellHovered.next(t)})),i.fromEvent(e.elementRef.nativeElement,"mousedown").pipe(t).subscribe((function(t){e._dragStarted(t)}))}))},e.prototype._dragStarted=function(e){var t=this;if(0===e.button){var r=i.fromEvent(this.document,"mouseup"),o=i.fromEvent(this.document,"mousemove"),s=i.fromEvent(this.document,"keyup").pipe(n.filter((function(e){return e.keyCode===l.ESCAPE}))),a=e.screenX,c=this._getOriginWidth(),u=this._getOverlayOffset(),d=this._getOriginOffset(),h=c,f=0;this.updateResizeActive(!0),r.pipe(n.takeUntil(s),n.takeUntil(this.destroyed)).subscribe((function(e){t._notifyResizeEnded(h,e.screenX!==a)})),s.pipe(n.takeUntil(r),n.takeUntil(this.destroyed)).subscribe((function(){t._notifyResizeEnded(c)})),o.pipe(n.map((function(e){return e.screenX})),n.startWith(a),n.distinctUntilChanged(),n.pairwise(),n.takeUntil(r),n.takeUntil(s),n.takeUntil(this.destroyed)).subscribe((function(e){var i=p(e,2),n=i[1]-i[0];if(0!==f){if(f<0&&n<0||f>0&&n>0)return void(f+=n);var r=f+n;if(0==(n=r-(f=f>0?Math.max(r,0):Math.min(r,0))))return}var o=h+(t._isLtr()?n:-n);o=Math.min(Math.max(o,t.resizeRef.minWidthPx,0),t.resizeRef.maxWidthPx),t.resizeNotifier.triggerResize.next({columnId:t.columnDef.name,size:o,previousSize:h});var s=t._getOriginWidth(),a=t._getOriginOffset(),l=a-d,c=s-h;h=s,d=a,f+=n+(t._isLtr()?-c:c),u+=l+(t._isLtr()?c:0),t._updateOverlayOffset(u)}))}},e.prototype.updateResizeActive=function(e){this.eventDispatcher.overlayHandleActiveForCell.next(e?this.resizeRef.origin.nativeElement:null)},e.prototype._getOriginWidth=function(){return this.resizeRef.origin.nativeElement.offsetWidth},e.prototype._getOriginOffset=function(){return this.resizeRef.origin.nativeElement.offsetLeft},e.prototype._getOverlayOffset=function(){return parseInt(this.resizeRef.overlayRef.overlayElement.style.left,10)},e.prototype._updateOverlayOffset=function(e){this.resizeRef.overlayRef.overlayElement.style.left=s.coerceCssPixelValue(e)},e.prototype._isLtr=function(){return"ltr"===this.directionality.value},e.prototype._notifyResizeEnded=function(e,t){var i=this;void 0===t&&(t=!1),this.updateResizeActive(!1),this.ngZone.run((function(){var n={columnId:i.columnDef.name,size:e};t?i.resizeNotifier.resizeCompleted.next(n):i.resizeNotifier.resizeCanceled.next(n)}))},e.decorators=[{type:t.Directive}],e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
e.CdkColumnResize=k,e.CdkColumnResizeDefaultEnabledModule=H,e.CdkColumnResizeFlex=P,e.CdkColumnResizeModule=D,e.CdkDefaultEnabledColumnResize=w,e.CdkDefaultEnabledColumnResizeFlex=O,e.CdkFlexTableResizeStrategy=R,e.ColumnResize=f,e.ColumnResizeNotifier=y,e.ColumnResizeNotifierSource=m,e.ColumnSizeStore=I,e.FLEX_RESIZE_STRATEGY_PROVIDER=C,e.HeaderRowEventDispatcher=v,e.Resizable=W,e.ResizeOverlayHandle=A,e.ResizeRef=M,e.ResizeStrategy=g,e.TABLE_LAYOUT_FIXED_RESIZE_STRATEGY_PROVIDER=x,e.TableLayoutFixedResizeStrategy=_,e.ɵangular_material_src_cdk_experimental_column_resize_column_resize_a=b,e.ɵangular_material_src_cdk_experimental_column_resize_column_resize_b=S,Object.defineProperty(e,"__esModule",{value:!0})}));