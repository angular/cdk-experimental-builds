{"version":3,"sources":["src/cdk-experimental/cdk-experimental-menu.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ng","cdkExperimental","menu","core","cdk","overlay","a11y","keycodes","bidi","rxjs","operators","collections","coercion","portal","common","this","i0","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","CDK_MENU","InjectionToken","throwExistingMenuStackError","Error","CdkMenuItemTrigger","_elementRef","_viewContainerRef","_overlay","_parentMenu","_directionality","opened","EventEmitter","closed","_overlayRef","defineProperty","get","_menuPanel","set","panel","isDevMode","_menuStack","_getMenuStack","enumerable","configurable","toggle","hasMenu","isMenuOpen","closeMenu","openMenu","_getOverlayConfig","attach","_getPortal","detach","_closeSiblingTriggers","menuPanel","hasAttached","getMenu","_a","_menu","_toggleOnMouseEnter","menuStack","isEmpty","_toggleOnKeydown","event","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","keyCode","SPACE","ENTER","preventDefault","focusFirstItem","RIGHT_ARROW","_isParentVertical","close","LEFT_ARROW","DOWN_ARROW","UP_ARROW","focusLastItem","closeSubMenuOf","peek","closeAll","OverlayConfig","positionStrategy","_getOverlayPositionStrategy","scrollStrategy","scrollStrategies","block","direction","position","flexibleConnectedTo","withPositions","_getOverlayPositions","orientation","originX","originY","overlayX","overlayY","hasMenuContentChanged","_templateRef","_panelContent","templateRef","TemplatePortal","ngOnDestroy","_destroyOverlay","_resetPanelMenuStack","dispose","decorators","type","Directive","args","selector","exportAs","host","(keydown)","(mouseenter)","(click)","tabindex","aria-haspopup","[attr.aria-expanded]","ctorParameters","ElementRef","ViewContainerRef","Overlay","undefined","Inject","Directionality","Optional","propDecorators","Input","Output","CdkMenuItem","_ngZone","_dir","_menuTrigger","_disabled","triggered","_tabindex","_destroyed","Subject","_setupMouseEnter","coerceBooleanProperty","focus","nativeElement","_resetTabIndex","_setTabIndex","disabled","trigger","getMenuTrigger","getLabel","clone","cloneNode","removeIcons","element","e_1","__values","s","TypeError","from","querySelectorAll","icon","parentNode","removeChild","e_1_1","return","textContent","trim","_onKeydown","_this","runOutsideAngular","fromEvent","pipe","filter","takeUntil","subscribe","run","[tabindex]","role","class","[attr.aria-disabled]","NgZone","Self","HostListener","nextId","CdkMenuItemSelectable","_super","apply","toggled","_checked","name","id","checked","CdkMenuGroup","change","_selectableChanges","ngAfterContentInit","_registerMenuSelectionListeners","_selectableItems","forEach","selectable","_registerClickListener","changes","selectableItems","complete","providers","provide","UniqueSelectionDispatcher","useClass","ContentChildren","descendants","CdkMenuPanel","_registerMenu","child","TemplateRef","MenuStack","_elements","_close","_empty","emptied","lastItem","focusNext","indexOf","poppedElement","pop","removed","menuStackItem","NoopMenuStack","_","getItemPointerEntries","items","defer","startWith","mergeMap","list","map","mapTo","mergeAll","CdkMenu","ngOnInit","_registerWithParentPanel","_completeChangeEmitter","_setKeyManager","_subscribeToMenuOpen","_subscribeToMenuStack","_subscribeToMouseManager","focusOrigin","_keyManager","setFocusOrigin","setFirstItemActive","setLastItemActive","_handleKeyEvent","keyManager","_isHorizontal","onKeydown","ESCAPE","hasModifierKey","TAB","_getMenuPanel","_explicitPanel","_hasNestedGroups","_nestedGroups","take","first","FocusKeyManager","_allItems","withWrap","withTypeAhead","withHomeAndEnd","withHorizontalOrientation","withVerticalOrientation","_mouseFocusChanged","item","setActiveItem","_closeOpenMenu","_toggleMenuFocus","_openItem","setNextItemActive","setPreviousItemActive","activeItem","exitCondition","merge","switchMap","_isInline","_emitClosedEvent","isMenuElement","target","classList","contains","[class.cdk-menu-inline]","[attr.aria-orientation]","useExisting","CdkMenuBar","horizontalArrows","prevIsOpen","_hasOpenSubmenu","_toggleOpenMenu","_closeOnBackgroundClick","composedPath","Element","parentElement","CdkMenuItemRadio","_selectionDispatcher","ngZone","parentMenu","dir","menuTrigger","_registerDispatcherListener","_removeDispatcherListener","listen","notify","[attr.aria-checked]","CdkMenuItemCheckbox","isWithinMenuElement","ContextMenuTracker","update","_openContextMenuTrigger","ɵprov","ɵɵdefineInjectable","ContextMenuTracker_Factory","token","providedIn","Injectable","CDK_CONTEXT_MENU_DEFAULT_OPTIONS","ɵ0","offsetX","offsetY","CdkContextMenuTrigger","_contextMenuTracker","_options","document","_stopDocumentListener","_document","_setMenuStackListener","open","coordinates","isOpen","getConfig","setOrigin","updatePosition","_getMenuContent","_setCloseListener","_openOnContextMenu","stopPropagation","x","clientX","y","clientY","button","withDefaultOffsetX","withDefaultOffsetY","(contextmenu)","useValue","DOCUMENT","CdkMenuModule","EXPORTED_DECLARATIONS","NgModule","imports","OverlayModule","declarations","ɵangular_material_src_cdk_experimental_menu_menu_b"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/cdk/overlay'), require('@angular/cdk/a11y'), require('@angular/cdk/keycodes'), require('@angular/cdk/bidi'), require('rxjs/operators'), require('rxjs'), require('@angular/cdk/collections'), require('@angular/cdk/coercion'), require('@angular/cdk/portal'), require('@angular/common')) :\n    typeof define === 'function' && define.amd ? define('@angular/cdk-experimental/menu', ['exports', '@angular/core', '@angular/cdk/overlay', '@angular/cdk/a11y', '@angular/cdk/keycodes', '@angular/cdk/bidi', 'rxjs/operators', 'rxjs', '@angular/cdk/collections', '@angular/cdk/coercion', '@angular/cdk/portal', '@angular/common'], factory) :\n    (global = global || self, factory((global.ng = global.ng || {}, global.ng.cdkExperimental = global.ng.cdkExperimental || {}, global.ng.cdkExperimental.menu = {}), global.ng.core, global.ng.cdk.overlay, global.ng.cdk.a11y, global.ng.cdk.keycodes, global.ng.cdk.bidi, global.rxjs.operators, global.rxjs, global.ng.cdk.collections, global.ng.cdk.coercion, global.ng.cdk.portal, global.ng.common));\n}(this, (function (exports, i0, overlay, a11y, keycodes, bidi, operators, rxjs, collections, coercion, portal, common) { 'use strict';\n\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n    /* global Reflect, Promise */\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b)\n                if (b.hasOwnProperty(p))\n                    d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function () {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s)\n                    if (Object.prototype.hasOwnProperty.call(s, p))\n                        t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n        var t = {};\n        for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n                t[p] = s[p];\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                    t[p[i]] = s[p[i]];\n            }\n        return t;\n    }\n    function __decorate(decorators, target, key, desc) {\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n            r = Reflect.decorate(decorators, target, key, desc);\n        else\n            for (var i = decorators.length - 1; i >= 0; i--)\n                if (d = decorators[i])\n                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n    }\n    function __param(paramIndex, decorator) {\n        return function (target, key) { decorator(target, key, paramIndex); };\n    }\n    function __metadata(metadataKey, metadataValue) {\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n            return Reflect.metadata(metadataKey, metadataValue);\n    }\n    function __awaiter(thisArg, _arguments, P, generator) {\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) { try {\n                step(generator.next(value));\n            }\n            catch (e) {\n                reject(e);\n            } }\n            function rejected(value) { try {\n                step(generator[\"throw\"](value));\n            }\n            catch (e) {\n                reject(e);\n            } }\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    }\n    function __generator(thisArg, body) {\n        var _ = { label: 0, sent: function () { if (t[0] & 1)\n                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\n        function verb(n) { return function (v) { return step([n, v]); }; }\n        function step(op) {\n            if (f)\n                throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n                        return t;\n                    if (y = 0, t)\n                        op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2])\n                                _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                }\n                catch (e) {\n                    op = [6, e];\n                    y = 0;\n                }\n                finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5)\n                throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    }\n    var __createBinding = Object.create ? (function (o, m, k, k2) {\n        if (k2 === undefined)\n            k2 = k;\n        Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });\n    }) : (function (o, m, k, k2) {\n        if (k2 === undefined)\n            k2 = k;\n        o[k2] = m[k];\n    });\n    function __exportStar(m, exports) {\n        for (var p in m)\n            if (p !== \"default\" && !exports.hasOwnProperty(p))\n                __createBinding(exports, m, p);\n    }\n    function __values(o) {\n        var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n        if (m)\n            return m.call(o);\n        if (o && typeof o.length === \"number\")\n            return {\n                next: function () {\n                    if (o && i >= o.length)\n                        o = void 0;\n                    return { value: o && o[i++], done: !o };\n                }\n            };\n        throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n    }\n    function __read(o, n) {\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n        if (!m)\n            return o;\n        var i = m.call(o), r, ar = [], e;\n        try {\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)\n                ar.push(r.value);\n        }\n        catch (error) {\n            e = { error: error };\n        }\n        finally {\n            try {\n                if (r && !r.done && (m = i[\"return\"]))\n                    m.call(i);\n            }\n            finally {\n                if (e)\n                    throw e.error;\n            }\n        }\n        return ar;\n    }\n    function __spread() {\n        for (var ar = [], i = 0; i < arguments.length; i++)\n            ar = ar.concat(__read(arguments[i]));\n        return ar;\n    }\n    function __spreadArrays() {\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++)\n            s += arguments[i].length;\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n                r[k] = a[j];\n        return r;\n    }\n    ;\n    function __await(v) {\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\n    }\n    function __asyncGenerator(thisArg, _arguments, generator) {\n        if (!Symbol.asyncIterator)\n            throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n        function verb(n) { if (g[n])\n            i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n        function resume(n, v) { try {\n            step(g[n](v));\n        }\n        catch (e) {\n            settle(q[0][3], e);\n        } }\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n        function fulfill(value) { resume(\"next\", value); }\n        function reject(value) { resume(\"throw\", value); }\n        function settle(f, v) { if (f(v), q.shift(), q.length)\n            resume(q[0][0], q[0][1]); }\n    }\n    function __asyncDelegator(o) {\n        var i, p;\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\n    }\n    function __asyncValues(o) {\n        if (!Symbol.asyncIterator)\n            throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var m = o[Symbol.asyncIterator], i;\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }\n    }\n    function __makeTemplateObject(cooked, raw) {\n        if (Object.defineProperty) {\n            Object.defineProperty(cooked, \"raw\", { value: raw });\n        }\n        else {\n            cooked.raw = raw;\n        }\n        return cooked;\n    }\n    ;\n    var __setModuleDefault = Object.create ? (function (o, v) {\n        Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n    }) : function (o, v) {\n        o[\"default\"] = v;\n    };\n    function __importStar(mod) {\n        if (mod && mod.__esModule)\n            return mod;\n        var result = {};\n        if (mod != null)\n            for (var k in mod)\n                if (Object.hasOwnProperty.call(mod, k))\n                    __createBinding(result, mod, k);\n        __setModuleDefault(result, mod);\n        return result;\n    }\n    function __importDefault(mod) {\n        return (mod && mod.__esModule) ? mod : { default: mod };\n    }\n    function __classPrivateFieldGet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError(\"attempted to get private field on non-instance\");\n        }\n        return privateMap.get(receiver);\n    }\n    function __classPrivateFieldSet(receiver, privateMap, value) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError(\"attempted to set private field on non-instance\");\n        }\n        privateMap.set(receiver, value);\n        return value;\n    }\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /** Injection token used to return classes implementing the Menu interface */\n    var CDK_MENU = new i0.InjectionToken('cdk-menu');\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Throws an exception when a menu panel already has a menu stack.\n     * @docs-private\n     */\n    function throwExistingMenuStackError() {\n        throw Error('CdkMenuPanel is already referenced by different CdkMenuTrigger. Ensure that a menu is' +\n            ' opened by a single trigger only.');\n    }\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A directive to be combined with CdkMenuItem which opens the Menu it is bound to. If the\n     * element is in a top level MenuBar it will open the menu on click, or if a sibling is already\n     * opened it will open on hover. If it is inside of a Menu it will open the attached Submenu on\n     * hover regardless of its sibling state.\n     *\n     * The directive must be placed along with the `cdkMenuItem` directive in order to enable full\n     * functionality.\n     */\n    var CdkMenuItemTrigger = /** @class */ (function () {\n        function CdkMenuItemTrigger(_elementRef, _viewContainerRef, _overlay, _parentMenu, _directionality) {\n            this._elementRef = _elementRef;\n            this._viewContainerRef = _viewContainerRef;\n            this._overlay = _overlay;\n            this._parentMenu = _parentMenu;\n            this._directionality = _directionality;\n            /** Emits when the attached menu is requested to open */\n            this.opened = new i0.EventEmitter();\n            /** Emits when the attached menu is requested to close */\n            this.closed = new i0.EventEmitter();\n            /** A reference to the overlay which manages the triggered menu */\n            this._overlayRef = null;\n        }\n        Object.defineProperty(CdkMenuItemTrigger.prototype, \"menuPanel\", {\n            /** Template reference variable to the menu this trigger opens */\n            get: function () {\n                return this._menuPanel;\n            },\n            set: function (panel) {\n                // If the provided panel already has a stack, that means it already has a trigger configured.\n                // Note however that there are some edge cases where two triggers **may** share the same menu,\n                // e.g. two triggers in two separate menus.\n                // TODO refactor once https://github.com/angular/components/pull/20146 lands\n                if (i0.isDevMode() && (panel === null || panel === void 0 ? void 0 : panel._menuStack)) {\n                    throwExistingMenuStackError();\n                }\n                this._menuPanel = panel;\n                if (this._menuPanel) {\n                    this._menuPanel._menuStack = this._getMenuStack();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /** Open/close the attached menu if the trigger has been configured with one */\n        CdkMenuItemTrigger.prototype.toggle = function () {\n            if (this.hasMenu()) {\n                this.isMenuOpen() ? this.closeMenu() : this.openMenu();\n            }\n        };\n        /** Open the attached menu. */\n        CdkMenuItemTrigger.prototype.openMenu = function () {\n            if (!this.isMenuOpen()) {\n                this.opened.next();\n                this._overlayRef = this._overlayRef || this._overlay.create(this._getOverlayConfig());\n                this._overlayRef.attach(this._getPortal());\n            }\n        };\n        /** Close the opened menu. */\n        CdkMenuItemTrigger.prototype.closeMenu = function () {\n            if (this.isMenuOpen()) {\n                this.closed.next();\n                this._overlayRef.detach();\n            }\n            this._closeSiblingTriggers();\n        };\n        /** Return true if the trigger has an attached menu */\n        CdkMenuItemTrigger.prototype.hasMenu = function () {\n            return !!this.menuPanel;\n        };\n        /** Whether the menu this button is a trigger for is open */\n        CdkMenuItemTrigger.prototype.isMenuOpen = function () {\n            return this._overlayRef ? this._overlayRef.hasAttached() : false;\n        };\n        /**\n         * Get a reference to the rendered Menu if the Menu is open and it is visible in the DOM.\n         * @return the menu if it is open, otherwise undefined.\n         */\n        CdkMenuItemTrigger.prototype.getMenu = function () {\n            var _a;\n            return (_a = this.menuPanel) === null || _a === void 0 ? void 0 : _a._menu;\n        };\n        /**\n         * If there are existing open menus and this menu is not open, close sibling menus and open\n         * this one.\n         */\n        CdkMenuItemTrigger.prototype._toggleOnMouseEnter = function () {\n            var menuStack = this._getMenuStack();\n            var isSiblingMenuOpen = !(menuStack === null || menuStack === void 0 ? void 0 : menuStack.isEmpty()) && !this.isMenuOpen();\n            if (isSiblingMenuOpen) {\n                this._closeSiblingTriggers();\n                this.openMenu();\n            }\n        };\n        /**\n         * Handles keyboard events for the menu item, specifically opening/closing the attached menu and\n         * focusing the appropriate submenu item.\n         * @param event the keyboard event to handle\n         */\n        CdkMenuItemTrigger.prototype._toggleOnKeydown = function (event) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n            var keyCode = event.keyCode;\n            switch (keyCode) {\n                case keycodes.SPACE:\n                case keycodes.ENTER:\n                    event.preventDefault();\n                    this.toggle();\n                    (_b = (_a = this.menuPanel) === null || _a === void 0 ? void 0 : _a._menu) === null || _b === void 0 ? void 0 : _b.focusFirstItem('keyboard');\n                    break;\n                case keycodes.RIGHT_ARROW:\n                    if (this._isParentVertical()) {\n                        event.preventDefault();\n                        if (((_c = this._directionality) === null || _c === void 0 ? void 0 : _c.value) === 'rtl') {\n                            (_d = this._getMenuStack()) === null || _d === void 0 ? void 0 : _d.close(this._parentMenu, 2 /* currentItem */);\n                        }\n                        else {\n                            this.openMenu();\n                            (_f = (_e = this.menuPanel) === null || _e === void 0 ? void 0 : _e._menu) === null || _f === void 0 ? void 0 : _f.focusFirstItem('keyboard');\n                        }\n                    }\n                    break;\n                case keycodes.LEFT_ARROW:\n                    if (this._isParentVertical()) {\n                        event.preventDefault();\n                        if (((_g = this._directionality) === null || _g === void 0 ? void 0 : _g.value) === 'rtl') {\n                            this.openMenu();\n                            (_j = (_h = this.menuPanel) === null || _h === void 0 ? void 0 : _h._menu) === null || _j === void 0 ? void 0 : _j.focusFirstItem('keyboard');\n                        }\n                        else {\n                            (_k = this._getMenuStack()) === null || _k === void 0 ? void 0 : _k.close(this._parentMenu, 2 /* currentItem */);\n                        }\n                    }\n                    break;\n                case keycodes.DOWN_ARROW:\n                case keycodes.UP_ARROW:\n                    if (!this._isParentVertical()) {\n                        event.preventDefault();\n                        this.openMenu();\n                        keyCode === keycodes.DOWN_ARROW\n                            ? (_m = (_l = this.menuPanel) === null || _l === void 0 ? void 0 : _l._menu) === null || _m === void 0 ? void 0 : _m.focusFirstItem('keyboard') : (_p = (_o = this.menuPanel) === null || _o === void 0 ? void 0 : _o._menu) === null || _p === void 0 ? void 0 : _p.focusLastItem('keyboard');\n                    }\n                    break;\n            }\n        };\n        /** Close out any sibling menu trigger menus. */\n        CdkMenuItemTrigger.prototype._closeSiblingTriggers = function () {\n            var menuStack = this._getMenuStack();\n            // If nothing was removed from the stack and the last element is not the parent item\n            // that means that the parent menu is a menu bar since we don't put the menu bar on the\n            // stack\n            var isParentMenuBar = !(menuStack === null || menuStack === void 0 ? void 0 : menuStack.closeSubMenuOf(this._parentMenu)) && (menuStack === null || menuStack === void 0 ? void 0 : menuStack.peek()) !== this._parentMenu;\n            if (isParentMenuBar) {\n                menuStack === null || menuStack === void 0 ? void 0 : menuStack.closeAll();\n            }\n        };\n        /** Get the configuration object used to create the overlay */\n        CdkMenuItemTrigger.prototype._getOverlayConfig = function () {\n            return new overlay.OverlayConfig({\n                positionStrategy: this._getOverlayPositionStrategy(),\n                scrollStrategy: this._overlay.scrollStrategies.block(),\n                direction: this._directionality,\n            });\n        };\n        /** Build the position strategy for the overlay which specifies where to place the menu */\n        CdkMenuItemTrigger.prototype._getOverlayPositionStrategy = function () {\n            return this._overlay\n                .position()\n                .flexibleConnectedTo(this._elementRef)\n                .withPositions(this._getOverlayPositions());\n        };\n        /** Determine and return where to position the opened menu relative to the menu item */\n        CdkMenuItemTrigger.prototype._getOverlayPositions = function () {\n            // TODO: use a common positioning config from (possibly) cdk/overlay\n            return this._parentMenu.orientation === 'horizontal'\n                ? [\n                    { originX: 'start', originY: 'bottom', overlayX: 'start', overlayY: 'top' },\n                    { originX: 'start', originY: 'top', overlayX: 'start', overlayY: 'bottom' },\n                    { originX: 'end', originY: 'bottom', overlayX: 'end', overlayY: 'top' },\n                    { originX: 'end', originY: 'top', overlayX: 'end', overlayY: 'bottom' },\n                ]\n                : [\n                    { originX: 'end', originY: 'top', overlayX: 'start', overlayY: 'top' },\n                    { originX: 'end', originY: 'bottom', overlayX: 'start', overlayY: 'bottom' },\n                    { originX: 'start', originY: 'top', overlayX: 'end', overlayY: 'top' },\n                    { originX: 'start', originY: 'bottom', overlayX: 'end', overlayY: 'bottom' },\n                ];\n        };\n        /**\n         * Get the portal to be attached to the overlay which contains the menu. Allows for the menu\n         * content to change dynamically and be reflected in the application.\n         */\n        CdkMenuItemTrigger.prototype._getPortal = function () {\n            var _a, _b;\n            var hasMenuContentChanged = ((_a = this.menuPanel) === null || _a === void 0 ? void 0 : _a._templateRef) !== ((_b = this._panelContent) === null || _b === void 0 ? void 0 : _b.templateRef);\n            if (this.menuPanel && (!this._panelContent || hasMenuContentChanged)) {\n                this._panelContent = new portal.TemplatePortal(this.menuPanel._templateRef, this._viewContainerRef);\n            }\n            return this._panelContent;\n        };\n        /**\n         * @return true if if the enclosing parent menu is configured in a vertical orientation.\n         */\n        CdkMenuItemTrigger.prototype._isParentVertical = function () {\n            return this._parentMenu.orientation === 'vertical';\n        };\n        /** Get the menu stack from the parent. */\n        CdkMenuItemTrigger.prototype._getMenuStack = function () {\n            // We use a function since at the construction of the MenuItemTrigger the parent Menu won't have\n            // its menu stack set. Therefore we need to reference the menu stack from the parent each time\n            // we want to use it.\n            return this._parentMenu._menuStack;\n        };\n        CdkMenuItemTrigger.prototype.ngOnDestroy = function () {\n            this._destroyOverlay();\n            this._resetPanelMenuStack();\n        };\n        /** Set the menu panels menu stack back to null. */\n        CdkMenuItemTrigger.prototype._resetPanelMenuStack = function () {\n            // If a CdkMenuTrigger is placed in a submenu, each time the trigger is rendered (its parent\n            // menu is opened) the panel setter for CdkMenuPanel is called. From the first render onward,\n            // the attached CdkMenuPanel has the MenuStack set. Since we throw an error if a panel already\n            // has a stack set, we want to reset the attached stack here to prevent the error from being\n            // thrown if the trigger re-configures its attached panel (in the case where there is a 1:1\n            // relationship between the panel and trigger).\n            if (this._menuPanel) {\n                this._menuPanel._menuStack = null;\n            }\n        };\n        /** Destroy and unset the overlay reference it if exists */\n        CdkMenuItemTrigger.prototype._destroyOverlay = function () {\n            if (this._overlayRef) {\n                this._overlayRef.dispose();\n                this._overlayRef = null;\n            }\n        };\n        return CdkMenuItemTrigger;\n    }());\n    CdkMenuItemTrigger.decorators = [\n        { type: i0.Directive, args: [{\n                    selector: '[cdkMenuTriggerFor]',\n                    exportAs: 'cdkMenuTriggerFor',\n                    host: {\n                        '(keydown)': '_toggleOnKeydown($event)',\n                        '(mouseenter)': '_toggleOnMouseEnter()',\n                        '(click)': 'toggle()',\n                        'tabindex': '-1',\n                        'aria-haspopup': 'menu',\n                        '[attr.aria-expanded]': 'isMenuOpen()',\n                    },\n                },] }\n    ];\n    CdkMenuItemTrigger.ctorParameters = function () { return [\n        { type: i0.ElementRef },\n        { type: i0.ViewContainerRef },\n        { type: overlay.Overlay },\n        { type: undefined, decorators: [{ type: i0.Inject, args: [CDK_MENU,] }] },\n        { type: bidi.Directionality, decorators: [{ type: i0.Optional }] }\n    ]; };\n    CdkMenuItemTrigger.propDecorators = {\n        menuPanel: [{ type: i0.Input, args: ['cdkMenuTriggerFor',] }],\n        opened: [{ type: i0.Output, args: ['cdkMenuOpened',] }],\n        closed: [{ type: i0.Output, args: ['cdkMenuClosed',] }]\n    };\n\n    // TODO refactor this to be configurable allowing for custom elements to be removed\n    /** Removes all icons from within the given element. */\n    function removeIcons(element) {\n        var e_1, _g;\n        var _a;\n        try {\n            for (var _h = __values(Array.from(element.querySelectorAll('mat-icon, .material-icons'))), _j = _h.next(); !_j.done; _j = _h.next()) {\n                var icon = _j.value;\n                (_a = icon.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(icon);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_j && !_j.done && (_g = _h.return)) _g.call(_h);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    /**\n     * Directive which provides the ability for an element to be focused and navigated to using the\n     * keyboard when residing in a CdkMenu, CdkMenuBar, or CdkMenuGroup. It performs user defined\n     * behavior when clicked.\n     */\n    var CdkMenuItem = /** @class */ (function () {\n        function CdkMenuItem(_elementRef, _parentMenu, _ngZone, _dir, \n        /** Reference to the CdkMenuItemTrigger directive if one is added to the same element */\n        // `CdkMenuItem` is commonly used in combination with a `CdkMenuItemTrigger`.\n        // tslint:disable-next-line: lightweight-tokens\n        _menuTrigger) {\n            this._elementRef = _elementRef;\n            this._parentMenu = _parentMenu;\n            this._ngZone = _ngZone;\n            this._dir = _dir;\n            this._menuTrigger = _menuTrigger;\n            this._disabled = false;\n            /**\n             * If this MenuItem is a regular MenuItem, outputs when it is triggered by a keyboard or mouse\n             * event.\n             */\n            this.triggered = new i0.EventEmitter();\n            /**\n             * The tabindex for this menu item managed internally and used for implementing roving a\n             * tab index.\n             */\n            this._tabindex = -1;\n            /** Emits when the menu item is destroyed. */\n            this._destroyed = new rxjs.Subject();\n            this._setupMouseEnter();\n        }\n        Object.defineProperty(CdkMenuItem.prototype, \"disabled\", {\n            /**  Whether the CdkMenuItem is disabled - defaults to false */\n            get: function () {\n                return this._disabled;\n            },\n            set: function (value) {\n                this._disabled = coercion.coerceBooleanProperty(value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /** Place focus on the element. */\n        CdkMenuItem.prototype.focus = function () {\n            this._elementRef.nativeElement.focus();\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /** Reset the _tabindex to -1. */\n        CdkMenuItem.prototype._resetTabIndex = function () {\n            this._tabindex = -1;\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /**\n         * Set the tab index to 0 if not disabled and it's a focus event, or a mouse enter if this element\n         * is not in a menu bar.\n         */\n        CdkMenuItem.prototype._setTabIndex = function (event) {\n            var _a;\n            if (this.disabled) {\n                return;\n            }\n            // don't set the tabindex if there are no open sibling or parent menus\n            if (!event || !((_a = this._getMenuStack()) === null || _a === void 0 ? void 0 : _a.isEmpty())) {\n                this._tabindex = 0;\n            }\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /**\n         * If the menu item is not disabled and the element does not have a menu trigger attached, emit\n         * on the cdkMenuItemTriggered emitter and close all open menus.\n         */\n        CdkMenuItem.prototype.trigger = function () {\n            var _a;\n            if (!this.disabled && !this.hasMenu()) {\n                this.triggered.next();\n                (_a = this._getMenuStack()) === null || _a === void 0 ? void 0 : _a.closeAll();\n            }\n        };\n        /** Whether the menu item opens a menu. */\n        CdkMenuItem.prototype.hasMenu = function () {\n            var _a;\n            return !!((_a = this._menuTrigger) === null || _a === void 0 ? void 0 : _a.hasMenu());\n        };\n        /** Return true if this MenuItem has an attached menu and it is open. */\n        CdkMenuItem.prototype.isMenuOpen = function () {\n            var _a;\n            return !!((_a = this._menuTrigger) === null || _a === void 0 ? void 0 : _a.isMenuOpen());\n        };\n        /**\n         * Get a reference to the rendered Menu if the Menu is open and it is visible in the DOM.\n         * @return the menu if it is open, otherwise undefined.\n         */\n        CdkMenuItem.prototype.getMenu = function () {\n            var _a;\n            return (_a = this._menuTrigger) === null || _a === void 0 ? void 0 : _a.getMenu();\n        };\n        /** Get the MenuItemTrigger associated with this element. */\n        CdkMenuItem.prototype.getMenuTrigger = function () {\n            return this._menuTrigger;\n        };\n        /** Get the label for this element which is required by the FocusableOption interface. */\n        CdkMenuItem.prototype.getLabel = function () {\n            var _a;\n            // TODO cloning the tree may be expensive; implement a better method\n            // we know that the current node is an element type\n            var clone = this._elementRef.nativeElement.cloneNode(true);\n            removeIcons(clone);\n            return ((_a = clone.textContent) === null || _a === void 0 ? void 0 : _a.trim()) || '';\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /**\n         * Handles keyboard events for the menu item, specifically either triggering the user defined\n         * callback or opening/closing the current menu based on whether the left or right arrow key was\n         * pressed.\n         * @param event the keyboard event to handle\n         */\n        CdkMenuItem.prototype._onKeydown = function (event) {\n            var _a, _b, _c, _d, _e, _f;\n            switch (event.keyCode) {\n                case keycodes.SPACE:\n                case keycodes.ENTER:\n                    event.preventDefault();\n                    this.trigger();\n                    break;\n                case keycodes.RIGHT_ARROW:\n                    if (this._isParentVertical() && !this.hasMenu()) {\n                        event.preventDefault();\n                        ((_a = this._dir) === null || _a === void 0 ? void 0 : _a.value) === 'rtl'\n                            ? (_b = this._getMenuStack()) === null || _b === void 0 ? void 0 : _b.close(this._parentMenu, 1 /* previousItem */) : (_c = this._getMenuStack()) === null || _c === void 0 ? void 0 : _c.closeAll(0 /* nextItem */);\n                    }\n                    break;\n                case keycodes.LEFT_ARROW:\n                    if (this._isParentVertical() && !this.hasMenu()) {\n                        event.preventDefault();\n                        ((_d = this._dir) === null || _d === void 0 ? void 0 : _d.value) === 'rtl'\n                            ? (_e = this._getMenuStack()) === null || _e === void 0 ? void 0 : _e.closeAll(0 /* nextItem */) : (_f = this._getMenuStack()) === null || _f === void 0 ? void 0 : _f.close(this._parentMenu, 1 /* previousItem */);\n                    }\n                    break;\n            }\n        };\n        /**\n         * Subscribe to the mouseenter events and close any sibling menu items if this element is moused\n         * into.\n         */\n        CdkMenuItem.prototype._setupMouseEnter = function () {\n            var _this = this;\n            this._ngZone.runOutsideAngular(function () { return rxjs.fromEvent(_this._elementRef.nativeElement, 'mouseenter')\n                .pipe(operators.filter(function () { var _a; return !((_a = _this._getMenuStack()) === null || _a === void 0 ? void 0 : _a.isEmpty()) && !_this.hasMenu(); }), operators.takeUntil(_this._destroyed))\n                .subscribe(function () {\n                _this._ngZone.run(function () { var _a; return (_a = _this._getMenuStack()) === null || _a === void 0 ? void 0 : _a.closeSubMenuOf(_this._parentMenu); });\n            }); });\n        };\n        /** Return true if the enclosing parent menu is configured in a horizontal orientation. */\n        CdkMenuItem.prototype._isParentVertical = function () {\n            return this._parentMenu.orientation === 'vertical';\n        };\n        /** Get the MenuStack from the parent menu. */\n        CdkMenuItem.prototype._getMenuStack = function () {\n            // We use a function since at the construction of the MenuItemTrigger the parent Menu won't have\n            // its menu stack set. Therefore we need to reference the menu stack from the parent each time\n            // we want to use it.\n            return this._parentMenu._menuStack;\n        };\n        CdkMenuItem.prototype.ngOnDestroy = function () {\n            this._destroyed.next();\n        };\n        return CdkMenuItem;\n    }());\n    CdkMenuItem.decorators = [\n        { type: i0.Directive, args: [{\n                    selector: '[cdkMenuItem]',\n                    exportAs: 'cdkMenuItem',\n                    host: {\n                        '[tabindex]': '_tabindex',\n                        'type': 'button',\n                        'role': 'menuitem',\n                        'class': 'cdk-menu-item',\n                        '[attr.aria-disabled]': 'disabled || null',\n                    },\n                },] }\n    ];\n    CdkMenuItem.ctorParameters = function () { return [\n        { type: i0.ElementRef },\n        { type: undefined, decorators: [{ type: i0.Inject, args: [CDK_MENU,] }] },\n        { type: i0.NgZone },\n        { type: bidi.Directionality, decorators: [{ type: i0.Optional }] },\n        { type: CdkMenuItemTrigger, decorators: [{ type: i0.Self }, { type: i0.Optional }] }\n    ]; };\n    CdkMenuItem.propDecorators = {\n        disabled: [{ type: i0.Input }],\n        triggered: [{ type: i0.Output, args: ['cdkMenuItemTriggered',] }],\n        _resetTabIndex: [{ type: i0.HostListener, args: ['blur',] }, { type: i0.HostListener, args: ['mouseout',] }],\n        _setTabIndex: [{ type: i0.HostListener, args: ['focus',] }, { type: i0.HostListener, args: ['mouseenter', ['$event'],] }],\n        trigger: [{ type: i0.HostListener, args: ['click',] }],\n        _onKeydown: [{ type: i0.HostListener, args: ['keydown', ['$event'],] }]\n    };\n\n    /** Counter used to set a unique id and name for a selectable item */\n    var nextId = 0;\n    /**\n     * Base class providing checked state for MenuItems along with outputting a clicked event when the\n     * element is triggered. It provides functionality for selectable elements.\n     */\n    var CdkMenuItemSelectable = /** @class */ (function (_super) {\n        __extends(CdkMenuItemSelectable, _super);\n        function CdkMenuItemSelectable() {\n            var _this = _super.apply(this, __spread(arguments)) || this;\n            /** Event emitted when the selectable item is clicked */\n            _this.toggled = new i0.EventEmitter();\n            _this._checked = false;\n            /** The name of the selectable element with a default value */\n            _this.name = \"cdk-selectable-item-\" + nextId++;\n            /** The id of the selectable element with a default value */\n            _this.id = \"cdk-selectable-item-\" + nextId++;\n            return _this;\n        }\n        Object.defineProperty(CdkMenuItemSelectable.prototype, \"checked\", {\n            /** Whether the element is checked */\n            get: function () {\n                return this._checked;\n            },\n            set: function (value) {\n                this._checked = coercion.coerceBooleanProperty(value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /** If the element is not disabled emit the click event */\n        CdkMenuItemSelectable.prototype.trigger = function () {\n            if (!this.disabled) {\n                this.toggled.next(this);\n            }\n        };\n        return CdkMenuItemSelectable;\n    }(CdkMenuItem));\n    CdkMenuItemSelectable.decorators = [\n        { type: i0.Directive }\n    ];\n    CdkMenuItemSelectable.propDecorators = {\n        toggled: [{ type: i0.Output, args: ['cdkMenuItemToggled',] }],\n        checked: [{ type: i0.Input }],\n        name: [{ type: i0.Input }],\n        id: [{ type: i0.Input }]\n    };\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Directive which acts as a grouping container for `CdkMenuItem` instances with\n     * `role=\"menuitemradio\"`, similar to a `role=\"radiogroup\"` element.\n     */\n    var CdkMenuGroup = /** @class */ (function () {\n        function CdkMenuGroup() {\n            /** Emits the element when checkbox or radiobutton state changed  */\n            this.change = new i0.EventEmitter();\n            /** Emits when the _selectableItems QueryList triggers a change */\n            this._selectableChanges = new i0.EventEmitter();\n        }\n        CdkMenuGroup.prototype.ngAfterContentInit = function () {\n            this._registerMenuSelectionListeners();\n        };\n        /**\n         * Register the child selectable elements with the change emitter and ensure any new child\n         * elements do so as well.\n         */\n        CdkMenuGroup.prototype._registerMenuSelectionListeners = function () {\n            var _this = this;\n            this._selectableItems.forEach(function (selectable) { return _this._registerClickListener(selectable); });\n            this._selectableItems.changes.subscribe(function (selectableItems) {\n                _this._selectableChanges.next();\n                selectableItems.forEach(function (selectable) { return _this._registerClickListener(selectable); });\n            });\n        };\n        /** Register each selectable to emit on the change Emitter when clicked */\n        CdkMenuGroup.prototype._registerClickListener = function (selectable) {\n            var _this = this;\n            selectable.toggled\n                .pipe(operators.takeUntil(this._selectableChanges))\n                .subscribe(function () { return _this.change.next(selectable); });\n        };\n        CdkMenuGroup.prototype.ngOnDestroy = function () {\n            this._selectableChanges.next();\n            this._selectableChanges.complete();\n        };\n        return CdkMenuGroup;\n    }());\n    CdkMenuGroup.decorators = [\n        { type: i0.Directive, args: [{\n                    selector: '[cdkMenuGroup]',\n                    exportAs: 'cdkMenuGroup',\n                    host: {\n                        'role': 'group',\n                        'class': 'cdk-menu-group',\n                    },\n                    providers: [{ provide: collections.UniqueSelectionDispatcher, useClass: collections.UniqueSelectionDispatcher }],\n                },] }\n    ];\n    CdkMenuGroup.propDecorators = {\n        change: [{ type: i0.Output }],\n        _selectableItems: [{ type: i0.ContentChildren, args: [CdkMenuItemSelectable, { descendants: true },] }]\n    };\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Directive applied to an ng-template which wraps a CdkMenu and provides a reference to the\n     * child element it wraps which allows for opening of the CdkMenu in an overlay.\n     */\n    var CdkMenuPanel = /** @class */ (function () {\n        function CdkMenuPanel(_templateRef) {\n            this._templateRef = _templateRef;\n        }\n        /**\n         * Set the Menu component on the menu panel. Since we cannot use ContentChild to fetch the\n         * child Menu component, the child Menu must register its self with the parent MenuPanel.\n         */\n        CdkMenuPanel.prototype._registerMenu = function (child) {\n            var _a;\n            this._menu = child;\n            // The ideal solution would be to affect the CdkMenuPanel injector from the CdkMenuTrigger and\n            // inject the menu stack reference into the child menu and menu items, however this isn't\n            // possible at this time.\n            this._menu._menuStack = this._menuStack;\n            (_a = this._menuStack) === null || _a === void 0 ? void 0 : _a.push(child);\n        };\n        return CdkMenuPanel;\n    }());\n    CdkMenuPanel.decorators = [\n        { type: i0.Directive, args: [{ selector: 'ng-template[cdkMenuPanel]', exportAs: 'cdkMenuPanel' },] }\n    ];\n    CdkMenuPanel.ctorParameters = function () { return [\n        { type: i0.TemplateRef }\n    ]; };\n\n    /**\n     * MenuStack allows subscribers to listen for close events (when a MenuStackItem is popped off\n     * of the stack) in order to perform closing actions. Upon the MenuStack being empty it emits\n     * from the `empty` observable specifying the next focus action which the listener should perform\n     * as requested by the closer.\n     */\n    var MenuStack = /** @class */ (function () {\n        function MenuStack() {\n            /** All MenuStackItems tracked by this MenuStack. */\n            this._elements = [];\n            /** Emits the element which was popped off of the stack when requested by a closer. */\n            this._close = new rxjs.Subject();\n            /** Emits once the MenuStack has become empty after popping off elements. */\n            this._empty = new rxjs.Subject();\n            /** Observable which emits the MenuStackItem which has been requested to close. */\n            this.closed = this._close;\n            /**\n             * Observable which emits when the MenuStack is empty after popping off the last element. It\n             * emits a FocusNext event which specifies the action the closer has requested the listener\n             * perform.\n             */\n            this.emptied = this._empty;\n        }\n        /** @param menu the MenuStackItem to put on the stack. */\n        MenuStack.prototype.push = function (menu) {\n            this._elements.push(menu);\n        };\n        /**\n         * Pop items off of the stack up to and including `lastItem` and emit each on the close\n         * observable. If the stack is empty or `lastItem` is not on the stack it does nothing.\n         * @param lastItem the last item to pop off the stack.\n         * @param focusNext the event to emit on the `empty` observable if the method call resulted in an\n         * empty stack. Does not emit if the stack was initially empty or if `lastItem` was not on the\n         * stack.\n         */\n        MenuStack.prototype.close = function (lastItem, focusNext) {\n            if (this._elements.indexOf(lastItem) >= 0) {\n                var poppedElement = void 0;\n                do {\n                    poppedElement = this._elements.pop();\n                    this._close.next(poppedElement);\n                } while (poppedElement !== lastItem);\n                if (this.isEmpty()) {\n                    this._empty.next(focusNext);\n                }\n            }\n        };\n        /**\n         * Pop items off of the stack up to but excluding `lastItem` and emit each on the close\n         * observable. If the stack is empty or `lastItem` is not on the stack it does nothing.\n         * @param lastItem the element which should be left on the stack\n         * @return whether or not an item was removed from the stack\n         */\n        MenuStack.prototype.closeSubMenuOf = function (lastItem) {\n            var removed = false;\n            if (this._elements.indexOf(lastItem) >= 0) {\n                removed = this.peek() !== lastItem;\n                while (this.peek() !== lastItem) {\n                    this._close.next(this._elements.pop());\n                }\n            }\n            return removed;\n        };\n        /**\n         * Pop off all MenuStackItems and emit each one on the `close` observable one by one.\n         * @param focusNext the event to emit on the `empty` observable once the stack is emptied. Does\n         * not emit if the stack was initially empty.\n         */\n        MenuStack.prototype.closeAll = function (focusNext) {\n            if (!this.isEmpty()) {\n                while (!this.isEmpty()) {\n                    var menuStackItem = this._elements.pop();\n                    if (menuStackItem) {\n                        this._close.next(menuStackItem);\n                    }\n                }\n                this._empty.next(focusNext);\n            }\n        };\n        /** Return true if this stack is empty. */\n        MenuStack.prototype.isEmpty = function () {\n            return !this._elements.length;\n        };\n        /** Return the length of the stack. */\n        MenuStack.prototype.length = function () {\n            return this._elements.length;\n        };\n        /** Get the top most element on the stack. */\n        MenuStack.prototype.peek = function () {\n            return this._elements[this._elements.length - 1];\n        };\n        return MenuStack;\n    }());\n    /** NoopMenuStack is a placeholder MenuStack used for inline menus. */\n    var NoopMenuStack = /** @class */ (function (_super) {\n        __extends(NoopMenuStack, _super);\n        function NoopMenuStack() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        /** Noop push - does not add elements to the MenuStack. */\n        NoopMenuStack.prototype.push = function (_) { };\n        return NoopMenuStack;\n    }(MenuStack));\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Gets a stream of pointer (mouse) entries into the given items.\n     * This should typically run outside the Angular zone.\n     */\n    function getItemPointerEntries(items) {\n        return rxjs.defer(function () { return items.changes.pipe(operators.startWith(items), operators.mergeMap(function (list) { return list.map(function (element) { return rxjs.fromEvent(element._elementRef.nativeElement, 'mouseenter').pipe(operators.mapTo(element), operators.takeUntil(items.changes)); }); }), operators.mergeAll()); });\n    }\n\n    /**\n     * Directive which configures the element as a Menu which should contain child elements marked as\n     * CdkMenuItem or CdkMenuGroup. Sets the appropriate role and aria-attributes for a menu and\n     * contains accessible keyboard and mouse handling logic.\n     *\n     * It also acts as a RadioGroup for elements marked with role `menuitemradio`.\n     */\n    var CdkMenu = /** @class */ (function (_super) {\n        __extends(CdkMenu, _super);\n        function CdkMenu(_ngZone, _dir, \n        // `CdkMenuPanel` is always used in combination with a `CdkMenu`.\n        // tslint:disable-next-line: lightweight-tokens\n        _menuPanel) {\n            var _this = _super.call(this) || this;\n            _this._ngZone = _ngZone;\n            _this._dir = _dir;\n            _this._menuPanel = _menuPanel;\n            /**\n             * Sets the aria-orientation attribute and determines where menus will be opened.\n             * Does not affect styling/layout.\n             */\n            _this.orientation = 'vertical';\n            /** Event emitted when the menu is closed. */\n            _this.closed = new i0.EventEmitter();\n            // We provide a default MenuStack implementation in case the menu is an inline menu.\n            // For Menus part of a MenuBar nested within a MenuPanel this will be overwritten\n            // to the correct parent MenuStack.\n            /** Track the Menus making up the open menu stack. */\n            _this._menuStack = new NoopMenuStack();\n            return _this;\n        }\n        CdkMenu.prototype.ngOnInit = function () {\n            this._registerWithParentPanel();\n        };\n        CdkMenu.prototype.ngAfterContentInit = function () {\n            _super.prototype.ngAfterContentInit.call(this);\n            this._completeChangeEmitter();\n            this._setKeyManager();\n            this._subscribeToMenuOpen();\n            this._subscribeToMenuStack();\n            this._subscribeToMouseManager();\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /** Place focus on the first MenuItem in the menu and set the focus origin. */\n        CdkMenu.prototype.focusFirstItem = function (focusOrigin) {\n            if (focusOrigin === void 0) { focusOrigin = 'program'; }\n            this._keyManager.setFocusOrigin(focusOrigin);\n            this._keyManager.setFirstItemActive();\n        };\n        /** Place focus on the last MenuItem in the menu and set the focus origin. */\n        CdkMenu.prototype.focusLastItem = function (focusOrigin) {\n            if (focusOrigin === void 0) { focusOrigin = 'program'; }\n            this._keyManager.setFocusOrigin(focusOrigin);\n            this._keyManager.setLastItemActive();\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /** Handle keyboard events for the Menu. */\n        CdkMenu.prototype._handleKeyEvent = function (event) {\n            var keyManager = this._keyManager;\n            switch (event.keyCode) {\n                case keycodes.LEFT_ARROW:\n                case keycodes.RIGHT_ARROW:\n                    if (this._isHorizontal()) {\n                        event.preventDefault();\n                        keyManager.setFocusOrigin('keyboard');\n                        keyManager.onKeydown(event);\n                    }\n                    break;\n                case keycodes.UP_ARROW:\n                case keycodes.DOWN_ARROW:\n                    if (!this._isHorizontal()) {\n                        event.preventDefault();\n                        keyManager.setFocusOrigin('keyboard');\n                        keyManager.onKeydown(event);\n                    }\n                    break;\n                case keycodes.ESCAPE:\n                    if (!keycodes.hasModifierKey(event)) {\n                        event.preventDefault();\n                        this._menuStack.close(this, 2 /* currentItem */);\n                    }\n                    break;\n                case keycodes.TAB:\n                    this._menuStack.closeAll();\n                    break;\n                default:\n                    keyManager.onKeydown(event);\n            }\n        };\n        /** Register this menu with its enclosing parent menu panel */\n        CdkMenu.prototype._registerWithParentPanel = function () {\n            var _a;\n            (_a = this._getMenuPanel()) === null || _a === void 0 ? void 0 : _a._registerMenu(this);\n        };\n        /**\n         * Get the enclosing CdkMenuPanel defaulting to the injected reference over the developer\n         * provided reference.\n         */\n        CdkMenu.prototype._getMenuPanel = function () {\n            return this._menuPanel || this._explicitPanel;\n        };\n        /**\n         * Complete the change emitter if there are any nested MenuGroups or register to complete the\n         * change emitter if a MenuGroup is rendered at some point\n         */\n        CdkMenu.prototype._completeChangeEmitter = function () {\n            var _this = this;\n            if (this._hasNestedGroups()) {\n                this.change.complete();\n            }\n            else {\n                this._nestedGroups.changes.pipe(operators.take(1)).subscribe(function () { return _this.change.complete(); });\n            }\n        };\n        /** Return true if there are nested CdkMenuGroup elements within the Menu */\n        CdkMenu.prototype._hasNestedGroups = function () {\n            // view engine has a bug where @ContentChildren will return the current element\n            // along with children if the selectors match - not just the children.\n            // Here, if there is at least one element, we check to see if the first element is a CdkMenu in\n            // order to ensure that we return true iff there are child CdkMenuGroup elements.\n            return this._nestedGroups.length > 0 && !(this._nestedGroups.first instanceof CdkMenu);\n        };\n        /** Setup the FocusKeyManager with the correct orientation for the menu. */\n        CdkMenu.prototype._setKeyManager = function () {\n            var _a;\n            this._keyManager = new a11y.FocusKeyManager(this._allItems)\n                .withWrap()\n                .withTypeAhead()\n                .withHomeAndEnd();\n            if (this._isHorizontal()) {\n                this._keyManager.withHorizontalOrientation(((_a = this._dir) === null || _a === void 0 ? void 0 : _a.value) || 'ltr');\n            }\n            else {\n                this._keyManager.withVerticalOrientation();\n            }\n        };\n        /**\n         * Set the FocusMouseManager and ensure that when mouse focus changes the key manager is updated\n         * with the latest menu item under mouse focus.\n         */\n        CdkMenu.prototype._subscribeToMouseManager = function () {\n            var _this = this;\n            this._ngZone.runOutsideAngular(function () {\n                _this._mouseFocusChanged = getItemPointerEntries(_this._allItems);\n                _this._mouseFocusChanged\n                    .pipe(operators.takeUntil(_this.closed))\n                    .subscribe(function (item) { return _this._keyManager.setActiveItem(item); });\n            });\n        };\n        /** Subscribe to the MenuStack close and empty observables. */\n        CdkMenu.prototype._subscribeToMenuStack = function () {\n            var _this = this;\n            this._menuStack.closed\n                .pipe(operators.takeUntil(this.closed))\n                .subscribe(function (item) { return _this._closeOpenMenu(item); });\n            this._menuStack.emptied\n                .pipe(operators.takeUntil(this.closed))\n                .subscribe(function (event) { return _this._toggleMenuFocus(event); });\n        };\n        /**\n         * Close the open menu if the current active item opened the requested MenuStackItem.\n         * @param item the MenuStackItem requested to be closed.\n         */\n        CdkMenu.prototype._closeOpenMenu = function (menu) {\n            var _a, _b;\n            var keyManager = this._keyManager;\n            var trigger = this._openItem;\n            if (menu === ((_a = trigger === null || trigger === void 0 ? void 0 : trigger.getMenuTrigger()) === null || _a === void 0 ? void 0 : _a.getMenu())) {\n                (_b = trigger.getMenuTrigger()) === null || _b === void 0 ? void 0 : _b.closeMenu();\n                keyManager.setFocusOrigin('keyboard');\n                keyManager.setActiveItem(trigger);\n            }\n        };\n        /** Set focus the either the current, previous or next item based on the FocusNext event. */\n        CdkMenu.prototype._toggleMenuFocus = function (event) {\n            var keyManager = this._keyManager;\n            switch (event) {\n                case 0 /* nextItem */:\n                    keyManager.setFocusOrigin('keyboard');\n                    keyManager.setNextItemActive();\n                    break;\n                case 1 /* previousItem */:\n                    keyManager.setFocusOrigin('keyboard');\n                    keyManager.setPreviousItemActive();\n                    break;\n                case 2 /* currentItem */:\n                    if (keyManager.activeItem) {\n                        keyManager.setFocusOrigin('keyboard');\n                        keyManager.setActiveItem(keyManager.activeItem);\n                    }\n                    break;\n            }\n        };\n        // TODO(andy9775): remove duplicate logic between menu an menu bar\n        /**\n         * Subscribe to the menu trigger's open events in order to track the trigger which opened the menu\n         * and stop tracking it when the menu is closed.\n         */\n        CdkMenu.prototype._subscribeToMenuOpen = function () {\n            var _this = this;\n            var exitCondition = rxjs.merge(this._allItems.changes, this.closed);\n            this._allItems.changes\n                .pipe(operators.startWith(this._allItems), operators.mergeMap(function (list) { return list\n                .filter(function (item) { return item.hasMenu(); })\n                .map(function (item) { return item.getMenuTrigger().opened.pipe(operators.mapTo(item), operators.takeUntil(exitCondition)); }); }), operators.mergeAll(), operators.switchMap(function (item) {\n                _this._openItem = item;\n                return item.getMenuTrigger().closed;\n            }), operators.takeUntil(this.closed))\n                .subscribe(function () { return (_this._openItem = undefined); });\n        };\n        /** Return true if this menu has been configured in a horizontal orientation. */\n        CdkMenu.prototype._isHorizontal = function () {\n            return this.orientation === 'horizontal';\n        };\n        /**\n         * Return true if this menu is an inline menu. That is, it does not exist in a pop-up and is\n         * always visible in the dom.\n         */\n        CdkMenu.prototype._isInline = function () {\n            // NoopMenuStack is the default. If this menu is not inline than the NoopMenuStack is replaced\n            // automatically.\n            return this._menuStack instanceof NoopMenuStack;\n        };\n        CdkMenu.prototype.ngOnDestroy = function () {\n            this._emitClosedEvent();\n        };\n        /** Emit and complete the closed event emitter */\n        CdkMenu.prototype._emitClosedEvent = function () {\n            this.closed.next();\n            this.closed.complete();\n        };\n        return CdkMenu;\n    }(CdkMenuGroup));\n    CdkMenu.decorators = [\n        { type: i0.Directive, args: [{\n                    selector: '[cdkMenu]',\n                    exportAs: 'cdkMenu',\n                    host: {\n                        '[tabindex]': '_isInline() ? 0 : null',\n                        'role': 'menu',\n                        'class': 'cdk-menu',\n                        '[class.cdk-menu-inline]': '_isInline()',\n                        '[attr.aria-orientation]': 'orientation',\n                    },\n                    providers: [\n                        { provide: CdkMenuGroup, useExisting: CdkMenu },\n                        { provide: CDK_MENU, useExisting: CdkMenu },\n                    ],\n                },] }\n    ];\n    CdkMenu.ctorParameters = function () { return [\n        { type: i0.NgZone },\n        { type: bidi.Directionality, decorators: [{ type: i0.Optional }] },\n        { type: CdkMenuPanel, decorators: [{ type: i0.Optional }] }\n    ]; };\n    CdkMenu.propDecorators = {\n        orientation: [{ type: i0.Input, args: ['cdkMenuOrientation',] }],\n        closed: [{ type: i0.Output }],\n        _nestedGroups: [{ type: i0.ContentChildren, args: [CdkMenuGroup, { descendants: true },] }],\n        _allItems: [{ type: i0.ContentChildren, args: [CdkMenuItem, { descendants: true },] }],\n        _explicitPanel: [{ type: i0.Input, args: ['cdkMenuPanel',] }],\n        focusFirstItem: [{ type: i0.HostListener, args: ['focus',] }],\n        _handleKeyEvent: [{ type: i0.HostListener, args: ['keydown', ['$event'],] }]\n    };\n\n    /**\n     * Whether the element is a menu bar or a popup menu.\n     * @param target the element to check.\n     * @return true if the given element is part of the menu module.\n     */\n    function isMenuElement(target) {\n        return (target.classList.contains('cdk-menu-bar') ||\n            (target.classList.contains('cdk-menu') && !target.classList.contains('cdk-menu-inline')));\n    }\n    /**\n     * Directive applied to an element which configures it as a MenuBar by setting the appropriate\n     * role, aria attributes, and accessible keyboard and mouse handling logic. The component that\n     * this directive is applied to should contain components marked with CdkMenuItem.\n     *\n     */\n    var CdkMenuBar = /** @class */ (function (_super) {\n        __extends(CdkMenuBar, _super);\n        function CdkMenuBar(_menuStack, _ngZone, _dir) {\n            var _this = _super.call(this) || this;\n            _this._menuStack = _menuStack;\n            _this._ngZone = _ngZone;\n            _this._dir = _dir;\n            /**\n             * Sets the aria-orientation attribute and determines where menus will be opened.\n             * Does not affect styling/layout.\n             */\n            _this.orientation = 'horizontal';\n            /** Emits when the MenuBar is destroyed. */\n            _this._destroyed = new rxjs.Subject();\n            return _this;\n        }\n        CdkMenuBar.prototype.ngAfterContentInit = function () {\n            _super.prototype.ngAfterContentInit.call(this);\n            this._setKeyManager();\n            this._subscribeToMenuOpen();\n            this._subscribeToMenuStack();\n            this._subscribeToMouseManager();\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /** Place focus on the first MenuItem in the menu and set the focus origin. */\n        CdkMenuBar.prototype.focusFirstItem = function (focusOrigin) {\n            if (focusOrigin === void 0) { focusOrigin = 'program'; }\n            this._keyManager.setFocusOrigin(focusOrigin);\n            this._keyManager.setFirstItemActive();\n        };\n        /** Place focus on the last MenuItem in the menu and set the focus origin. */\n        CdkMenuBar.prototype.focusLastItem = function (focusOrigin) {\n            if (focusOrigin === void 0) { focusOrigin = 'program'; }\n            this._keyManager.setFocusOrigin(focusOrigin);\n            this._keyManager.setLastItemActive();\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /**\n         * Handle keyboard events, specifically changing the focused element and/or toggling the active\n         * items menu.\n         * @param event the KeyboardEvent to handle.\n         */\n        CdkMenuBar.prototype._handleKeyEvent = function (event) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n            var keyManager = this._keyManager;\n            switch (event.keyCode) {\n                case keycodes.UP_ARROW:\n                case keycodes.DOWN_ARROW:\n                case keycodes.LEFT_ARROW:\n                case keycodes.RIGHT_ARROW:\n                    var horizontalArrows = event.keyCode === keycodes.LEFT_ARROW || event.keyCode === keycodes.RIGHT_ARROW;\n                    // For a horizontal menu if the left/right keys were clicked, or a vertical menu if the\n                    // up/down keys were clicked: if the current menu is open, close it then focus and open the\n                    // next  menu.\n                    if ((this._isHorizontal() && horizontalArrows) ||\n                        (!this._isHorizontal() && !horizontalArrows)) {\n                        event.preventDefault();\n                        var prevIsOpen = (_a = keyManager.activeItem) === null || _a === void 0 ? void 0 : _a.isMenuOpen();\n                        (_c = (_b = keyManager.activeItem) === null || _b === void 0 ? void 0 : _b.getMenuTrigger()) === null || _c === void 0 ? void 0 : _c.closeMenu();\n                        keyManager.setFocusOrigin('keyboard');\n                        keyManager.onKeydown(event);\n                        if (prevIsOpen) {\n                            (_e = (_d = keyManager.activeItem) === null || _d === void 0 ? void 0 : _d.getMenuTrigger()) === null || _e === void 0 ? void 0 : _e.openMenu();\n                        }\n                    }\n                    break;\n                case keycodes.ESCAPE:\n                    event.preventDefault();\n                    (_g = (_f = keyManager.activeItem) === null || _f === void 0 ? void 0 : _f.getMenuTrigger()) === null || _g === void 0 ? void 0 : _g.closeMenu();\n                    break;\n                case keycodes.TAB:\n                    (_j = (_h = keyManager.activeItem) === null || _h === void 0 ? void 0 : _h.getMenuTrigger()) === null || _j === void 0 ? void 0 : _j.closeMenu();\n                    break;\n                default:\n                    keyManager.onKeydown(event);\n            }\n        };\n        /** Setup the FocusKeyManager with the correct orientation for the menu bar. */\n        CdkMenuBar.prototype._setKeyManager = function () {\n            var _a;\n            this._keyManager = new a11y.FocusKeyManager(this._allItems)\n                .withWrap()\n                .withTypeAhead()\n                .withHomeAndEnd();\n            if (this._isHorizontal()) {\n                this._keyManager.withHorizontalOrientation(((_a = this._dir) === null || _a === void 0 ? void 0 : _a.value) || 'ltr');\n            }\n            else {\n                this._keyManager.withVerticalOrientation();\n            }\n        };\n        /**\n         * Set the FocusMouseManager and ensure that when mouse focus changes the key manager is updated\n         * with the latest menu item under mouse focus.\n         */\n        CdkMenuBar.prototype._subscribeToMouseManager = function () {\n            var _this = this;\n            this._ngZone.runOutsideAngular(function () {\n                _this._mouseFocusChanged = getItemPointerEntries(_this._allItems);\n                _this._mouseFocusChanged.pipe(operators.takeUntil(_this._destroyed)).subscribe(function (item) {\n                    if (_this._hasOpenSubmenu()) {\n                        _this._keyManager.setActiveItem(item);\n                    }\n                });\n            });\n        };\n        /** Subscribe to the MenuStack close and empty observables. */\n        CdkMenuBar.prototype._subscribeToMenuStack = function () {\n            var _this = this;\n            this._menuStack.closed\n                .pipe(operators.takeUntil(this._destroyed))\n                .subscribe(function (item) { return _this._closeOpenMenu(item); });\n            this._menuStack.emptied\n                .pipe(operators.takeUntil(this._destroyed))\n                .subscribe(function (event) { return _this._toggleOpenMenu(event); });\n        };\n        /**\n         * Close the open menu if the current active item opened the requested MenuStackItem.\n         * @param item the MenuStackItem requested to be closed.\n         */\n        CdkMenuBar.prototype._closeOpenMenu = function (menu) {\n            var _a, _b;\n            var trigger = this._openItem;\n            var keyManager = this._keyManager;\n            if (menu === ((_a = trigger === null || trigger === void 0 ? void 0 : trigger.getMenuTrigger()) === null || _a === void 0 ? void 0 : _a.getMenu())) {\n                (_b = trigger.getMenuTrigger()) === null || _b === void 0 ? void 0 : _b.closeMenu();\n                keyManager.setFocusOrigin('keyboard');\n                keyManager.setActiveItem(trigger);\n            }\n        };\n        /**\n         * Set focus to either the current, previous or next item based on the FocusNext event, then\n         * open the previous or next item.\n         */\n        CdkMenuBar.prototype._toggleOpenMenu = function (event) {\n            var _a, _b, _c, _d;\n            var keyManager = this._keyManager;\n            switch (event) {\n                case 0 /* nextItem */:\n                    keyManager.setFocusOrigin('keyboard');\n                    keyManager.setNextItemActive();\n                    (_b = (_a = keyManager.activeItem) === null || _a === void 0 ? void 0 : _a.getMenuTrigger()) === null || _b === void 0 ? void 0 : _b.openMenu();\n                    break;\n                case 1 /* previousItem */:\n                    keyManager.setFocusOrigin('keyboard');\n                    keyManager.setPreviousItemActive();\n                    (_d = (_c = keyManager.activeItem) === null || _c === void 0 ? void 0 : _c.getMenuTrigger()) === null || _d === void 0 ? void 0 : _d.openMenu();\n                    break;\n                case 2 /* currentItem */:\n                    if (keyManager.activeItem) {\n                        keyManager.setFocusOrigin('keyboard');\n                        keyManager.setActiveItem(keyManager.activeItem);\n                    }\n                    break;\n            }\n        };\n        /**\n         * @return true if the menu bar is configured to be horizontal.\n         */\n        CdkMenuBar.prototype._isHorizontal = function () {\n            return this.orientation === 'horizontal';\n        };\n        // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n        // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n        // can move this back into `host`.\n        // tslint:disable:no-host-decorator-in-concrete\n        /** Close any open submenu if there was a click event which occurred outside the menu stack. */\n        CdkMenuBar.prototype._closeOnBackgroundClick = function (event) {\n            if (this._hasOpenSubmenu()) {\n                // get target from composed path to account for shadow dom\n                var target = event.composedPath ? event.composedPath()[0] : event.target;\n                while (target instanceof Element) {\n                    if (isMenuElement(target)) {\n                        return;\n                    }\n                    target = target.parentElement;\n                }\n                this._menuStack.closeAll();\n            }\n        };\n        /**\n         * Subscribe to the menu trigger's open events in order to track the trigger which opened the menu\n         * and stop tracking it when the menu is closed.\n         */\n        CdkMenuBar.prototype._subscribeToMenuOpen = function () {\n            var _this = this;\n            var exitCondition = rxjs.merge(this._allItems.changes, this._destroyed);\n            this._allItems.changes\n                .pipe(operators.startWith(this._allItems), operators.mergeMap(function (list) { return list\n                .filter(function (item) { return item.hasMenu(); })\n                .map(function (item) { return item.getMenuTrigger().opened.pipe(operators.mapTo(item), operators.takeUntil(exitCondition)); }); }), operators.mergeAll(), operators.switchMap(function (item) {\n                _this._openItem = item;\n                return item.getMenuTrigger().closed;\n            }), operators.takeUntil(this._destroyed))\n                .subscribe(function () { return (_this._openItem = undefined); });\n        };\n        /** Return true if the MenuBar has an open submenu. */\n        CdkMenuBar.prototype._hasOpenSubmenu = function () {\n            return !!this._openItem;\n        };\n        CdkMenuBar.prototype.ngOnDestroy = function () {\n            _super.prototype.ngOnDestroy.call(this);\n            this._destroyed.next();\n            this._destroyed.complete();\n        };\n        return CdkMenuBar;\n    }(CdkMenuGroup));\n    CdkMenuBar.decorators = [\n        { type: i0.Directive, args: [{\n                    selector: '[cdkMenuBar]',\n                    exportAs: 'cdkMenuBar',\n                    host: {\n                        'role': 'menubar',\n                        'class': 'cdk-menu-bar',\n                        'tabindex': '0',\n                        '[attr.aria-orientation]': 'orientation',\n                    },\n                    providers: [\n                        { provide: CdkMenuGroup, useExisting: CdkMenuBar },\n                        { provide: CDK_MENU, useExisting: CdkMenuBar },\n                        { provide: MenuStack, useClass: MenuStack },\n                    ],\n                },] }\n    ];\n    CdkMenuBar.ctorParameters = function () { return [\n        { type: MenuStack },\n        { type: i0.NgZone },\n        { type: bidi.Directionality, decorators: [{ type: i0.Optional }] }\n    ]; };\n    CdkMenuBar.propDecorators = {\n        orientation: [{ type: i0.Input, args: ['cdkMenuBarOrientation',] }],\n        _allItems: [{ type: i0.ContentChildren, args: [CdkMenuItem, { descendants: true },] }],\n        focusFirstItem: [{ type: i0.HostListener, args: ['focus',] }],\n        _handleKeyEvent: [{ type: i0.HostListener, args: ['keydown', ['$event'],] }],\n        _closeOnBackgroundClick: [{ type: i0.HostListener, args: ['document:mousedown', ['$event'],] }]\n    };\n\n    /**\n     * A directive providing behavior for the the \"menuitemradio\" ARIA role, which behaves similarly to\n     * a conventional radio-button. Any sibling `CdkMenuItemRadio` instances within the same `CdkMenu`\n     * or `CdkMenuGroup` comprise a radio group with unique selection enforced.\n     */\n    var CdkMenuItemRadio = /** @class */ (function (_super) {\n        __extends(CdkMenuItemRadio, _super);\n        function CdkMenuItemRadio(_selectionDispatcher, element, ngZone, parentMenu, dir, \n        /** Reference to the CdkMenuItemTrigger directive if one is added to the same element */\n        // `CdkMenuItemRadio` is commonly used in combination with a `CdkMenuItemTrigger`.\n        // tslint:disable-next-line: lightweight-tokens\n        menuTrigger) {\n            var _this = _super.call(this, element, parentMenu, ngZone, dir, menuTrigger) || this;\n            _this._selectionDispatcher = _selectionDispatcher;\n            _this._registerDispatcherListener();\n            return _this;\n        }\n        /** Configure the unique selection dispatcher listener in order to toggle the checked state  */\n        CdkMenuItemRadio.prototype._registerDispatcherListener = function () {\n            var _this = this;\n            this._removeDispatcherListener = this._selectionDispatcher.listen(function (id, name) { return (_this.checked = _this.id === id && _this.name === name); });\n        };\n        /** Toggles the checked state of the radio-button. */\n        CdkMenuItemRadio.prototype.trigger = function () {\n            _super.prototype.trigger.call(this);\n            if (!this.disabled) {\n                this._selectionDispatcher.notify(this.id, this.name);\n            }\n        };\n        CdkMenuItemRadio.prototype.ngOnDestroy = function () {\n            _super.prototype.ngOnDestroy.call(this);\n            this._removeDispatcherListener();\n        };\n        return CdkMenuItemRadio;\n    }(CdkMenuItemSelectable));\n    CdkMenuItemRadio.decorators = [\n        { type: i0.Directive, args: [{\n                    selector: '[cdkMenuItemRadio]',\n                    exportAs: 'cdkMenuItemRadio',\n                    host: {\n                        '[tabindex]': '_tabindex',\n                        'type': 'button',\n                        'role': 'menuitemradio',\n                        '[attr.aria-checked]': 'checked || null',\n                        '[attr.aria-disabled]': 'disabled || null',\n                    },\n                    providers: [\n                        { provide: CdkMenuItemSelectable, useExisting: CdkMenuItemRadio },\n                        { provide: CdkMenuItem, useExisting: CdkMenuItemSelectable },\n                    ],\n                },] }\n    ];\n    CdkMenuItemRadio.ctorParameters = function () { return [\n        { type: collections.UniqueSelectionDispatcher },\n        { type: i0.ElementRef },\n        { type: i0.NgZone },\n        { type: undefined, decorators: [{ type: i0.Inject, args: [CDK_MENU,] }] },\n        { type: bidi.Directionality, decorators: [{ type: i0.Optional }] },\n        { type: CdkMenuItemTrigger, decorators: [{ type: i0.Self }, { type: i0.Optional }] }\n    ]; };\n\n    /**\n     * A directive providing behavior for the \"menuitemcheckbox\" ARIA role, which behaves similarly to a\n     * conventional checkbox.\n     */\n    var CdkMenuItemCheckbox = /** @class */ (function (_super) {\n        __extends(CdkMenuItemCheckbox, _super);\n        function CdkMenuItemCheckbox() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        /** Toggle the checked state of the checkbox. */\n        CdkMenuItemCheckbox.prototype.trigger = function () {\n            _super.prototype.trigger.call(this);\n            if (!this.disabled) {\n                this.checked = !this.checked;\n            }\n        };\n        return CdkMenuItemCheckbox;\n    }(CdkMenuItemSelectable));\n    CdkMenuItemCheckbox.decorators = [\n        { type: i0.Directive, args: [{\n                    selector: '[cdkMenuItemCheckbox]',\n                    exportAs: 'cdkMenuItemCheckbox',\n                    host: {\n                        '[tabindex]': '_tabindex',\n                        'type': 'button',\n                        'role': 'menuitemcheckbox',\n                        '[attr.aria-checked]': 'checked || null',\n                        '[attr.aria-disabled]': 'disabled || null',\n                    },\n                    providers: [\n                        { provide: CdkMenuItemSelectable, useExisting: CdkMenuItemCheckbox },\n                        { provide: CdkMenuItem, useExisting: CdkMenuItemSelectable },\n                    ],\n                },] }\n    ];\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Check if the given element is part of the cdk menu module or nested within a cdk menu element.\n     * @param target the element to check.\n     * @return true if the given element is part of the menu module or nested within a cdk menu element.\n     */\n    function isWithinMenuElement(target) {\n        while (target instanceof Element) {\n            if (target.classList.contains('cdk-menu') && !target.classList.contains('cdk-menu-inline')) {\n                return true;\n            }\n            target = target.parentElement;\n        }\n        return false;\n    }\n    /** Tracks the last open context menu trigger across the entire application. */\n    var ContextMenuTracker = /** @class */ (function () {\n        function ContextMenuTracker() {\n        }\n        /**\n         * Close the previous open context menu and set the given one as being open.\n         * @param trigger the trigger for the currently open Context Menu.\n         */\n        ContextMenuTracker.prototype.update = function (trigger) {\n            var _a;\n            if (ContextMenuTracker._openContextMenuTrigger !== trigger) {\n                (_a = ContextMenuTracker._openContextMenuTrigger) === null || _a === void 0 ? void 0 : _a.close();\n                ContextMenuTracker._openContextMenuTrigger = trigger;\n            }\n        };\n        return ContextMenuTracker;\n    }());\n    ContextMenuTracker.ɵprov = i0.ɵɵdefineInjectable({ factory: function ContextMenuTracker_Factory() { return new ContextMenuTracker(); }, token: ContextMenuTracker, providedIn: \"root\" });\n    ContextMenuTracker.decorators = [\n        { type: i0.Injectable, args: [{ providedIn: 'root' },] }\n    ];\n    /** Injection token for the ContextMenu options object. */\n    var CDK_CONTEXT_MENU_DEFAULT_OPTIONS = new i0.InjectionToken('cdk-context-menu-default-options');\n    var ɵ0 = { offsetX: 2, offsetY: 2 };\n    /**\n     * A directive which when placed on some element opens a the Menu it is bound to when a user\n     * right-clicks within that element. It is aware of nested Context Menus and the lowest level\n     * non-disabled context menu will trigger.\n     */\n    var CdkContextMenuTrigger = /** @class */ (function () {\n        function CdkContextMenuTrigger(_viewContainerRef, _overlay, _contextMenuTracker, _options, document, _directionality) {\n            this._viewContainerRef = _viewContainerRef;\n            this._overlay = _overlay;\n            this._contextMenuTracker = _contextMenuTracker;\n            this._options = _options;\n            this._directionality = _directionality;\n            /** Emits when the attached menu is requested to open. */\n            this.opened = new i0.EventEmitter();\n            /** Emits when the attached menu is requested to close. */\n            this.closed = new i0.EventEmitter();\n            this._disabled = false;\n            /** A reference to the overlay which manages the triggered menu. */\n            this._overlayRef = null;\n            /** Emits when the element is destroyed. */\n            this._destroyed = new rxjs.Subject();\n            /** Emits when the document listener should stop. */\n            this._stopDocumentListener = rxjs.merge(this.closed, this._destroyed);\n            /** The menu stack for this trigger and its associated menus. */\n            this._menuStack = new MenuStack();\n            this._document = document;\n            this._setMenuStackListener();\n        }\n        Object.defineProperty(CdkContextMenuTrigger.prototype, \"menuPanel\", {\n            /** Template reference variable to the menu to open on right click. */\n            get: function () {\n                return this._menuPanel;\n            },\n            set: function (panel) {\n                // If the provided panel already has a stack, that means it already has a trigger configured\n                // TODO refactor once https://github.com/angular/components/pull/20146 lands\n                if (i0.isDevMode() && panel._menuStack) {\n                    throwExistingMenuStackError();\n                }\n                this._menuPanel = panel;\n                if (this._menuPanel) {\n                    this._menuPanel._menuStack = this._menuStack;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(CdkContextMenuTrigger.prototype, \"disabled\", {\n            /** Whether the context menu should be disabled. */\n            get: function () {\n                return this._disabled;\n            },\n            set: function (value) {\n                this._disabled = coercion.coerceBooleanProperty(value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Open the attached menu at the specified location.\n         * @param coordinates where to open the context menu\n         */\n        CdkContextMenuTrigger.prototype.open = function (coordinates) {\n            if (this.disabled) {\n                return;\n            }\n            else if (this.isOpen()) {\n                // since we're moving this menu we need to close any submenus first otherwise they end up\n                // disconnected from this one.\n                this._menuStack.closeSubMenuOf(this._menuPanel._menu);\n                this._overlayRef.getConfig()\n                    .positionStrategy.setOrigin(coordinates);\n                this._overlayRef.updatePosition();\n            }\n            else {\n                this.opened.next();\n                if (this._overlayRef) {\n                    this._overlayRef.getConfig()\n                        .positionStrategy.setOrigin(coordinates);\n                    this._overlayRef.updatePosition();\n                }\n                else {\n                    this._overlayRef = this._overlay.create(this._getOverlayConfig(coordinates));\n                }\n                this._overlayRef.attach(this._getMenuContent());\n                this._setCloseListener();\n            }\n        };\n        /** Close the opened menu. */\n        CdkContextMenuTrigger.prototype.close = function () {\n            this._menuStack.closeAll();\n        };\n        /**\n         * Open the context menu and close any previously open menus.\n         * @param event the mouse event which opens the context menu.\n         */\n        CdkContextMenuTrigger.prototype._openOnContextMenu = function (event) {\n            var _a, _b, _c;\n            if (!this.disabled) {\n                // Prevent the native context menu from opening because we're opening a custom one.\n                event.preventDefault();\n                // Stop event propagation to ensure that only the closest enabled context menu opens.\n                // Otherwise, any context menus attached to containing elements would *also* open,\n                // resulting in multiple stacked context menus being displayed.\n                event.stopPropagation();\n                this._contextMenuTracker.update(this);\n                this.open({ x: event.clientX, y: event.clientY });\n                // A context menu can be triggered via a mouse right click or a keyboard shortcut.\n                if (event.button === 2) {\n                    (_a = this._menuPanel._menu) === null || _a === void 0 ? void 0 : _a.focusFirstItem('mouse');\n                }\n                else if (event.button === 0) {\n                    (_b = this._menuPanel._menu) === null || _b === void 0 ? void 0 : _b.focusFirstItem('keyboard');\n                }\n                else {\n                    (_c = this._menuPanel._menu) === null || _c === void 0 ? void 0 : _c.focusFirstItem('program');\n                }\n            }\n        };\n        /** Whether the attached menu is open. */\n        CdkContextMenuTrigger.prototype.isOpen = function () {\n            var _a;\n            return !!((_a = this._overlayRef) === null || _a === void 0 ? void 0 : _a.hasAttached());\n        };\n        /**\n         * Get the configuration object used to create the overlay.\n         * @param coordinates the location to place the opened menu\n         */\n        CdkContextMenuTrigger.prototype._getOverlayConfig = function (coordinates) {\n            return new overlay.OverlayConfig({\n                positionStrategy: this._getOverlayPositionStrategy(coordinates),\n                scrollStrategy: this._overlay.scrollStrategies.block(),\n                direction: this._directionality,\n            });\n        };\n        /**\n         * Build the position strategy for the overlay which specifies where to place the menu.\n         * @param coordinates the location to place the opened menu\n         */\n        CdkContextMenuTrigger.prototype._getOverlayPositionStrategy = function (coordinates) {\n            return this._overlay\n                .position()\n                .flexibleConnectedTo(coordinates)\n                .withDefaultOffsetX(this._options.offsetX)\n                .withDefaultOffsetY(this._options.offsetY)\n                .withPositions(this._getOverlayPositions());\n        };\n        /**\n         * Determine and return where to position the opened menu relative to the mouse location.\n         */\n        CdkContextMenuTrigger.prototype._getOverlayPositions = function () {\n            // TODO: this should be configurable through the injected context menu options\n            return [\n                { originX: 'end', originY: 'top', overlayX: 'start', overlayY: 'top' },\n                { originX: 'start', originY: 'top', overlayX: 'end', overlayY: 'top' },\n                { originX: 'end', originY: 'bottom', overlayX: 'start', overlayY: 'bottom' },\n                { originX: 'start', originY: 'bottom', overlayX: 'end', overlayY: 'bottom' },\n            ];\n        };\n        /**\n         * Get the portal to be attached to the overlay which contains the menu. Allows for the menu\n         * content to change dynamically and be reflected in the application.\n         */\n        CdkContextMenuTrigger.prototype._getMenuContent = function () {\n            var _a;\n            var hasMenuContentChanged = this.menuPanel._templateRef !== ((_a = this._panelContent) === null || _a === void 0 ? void 0 : _a.templateRef);\n            if (this.menuPanel && (!this._panelContent || hasMenuContentChanged)) {\n                this._panelContent = new portal.TemplatePortal(this.menuPanel._templateRef, this._viewContainerRef);\n            }\n            return this._panelContent;\n        };\n        /**\n         * Subscribe to the document click and context menu events and close out the menu when emitted.\n         */\n        CdkContextMenuTrigger.prototype._setCloseListener = function () {\n            var _this = this;\n            rxjs.merge(rxjs.fromEvent(this._document, 'click'), rxjs.fromEvent(this._document, 'contextmenu'))\n                .pipe(operators.takeUntil(this._stopDocumentListener))\n                .subscribe(function (event) {\n                var target = event.composedPath ? event.composedPath()[0] : event.target;\n                // stop the default context menu from appearing if user right-clicked somewhere outside of\n                // any context menu directive or if a user right-clicked inside of the opened menu and just\n                // close it.\n                if (event.type === 'contextmenu') {\n                    if (target instanceof Element && isWithinMenuElement(target)) {\n                        // Prevent the native context menu from opening within any open context menu or submenu\n                        event.preventDefault();\n                    }\n                    else {\n                        _this.close();\n                    }\n                }\n                else {\n                    if (target instanceof Element && !isWithinMenuElement(target)) {\n                        _this.close();\n                    }\n                }\n            });\n        };\n        /** Subscribe to the menu stack close events and close this menu when requested. */\n        CdkContextMenuTrigger.prototype._setMenuStackListener = function () {\n            var _this = this;\n            this._menuStack.closed.pipe(operators.takeUntil(this._destroyed)).subscribe(function (item) {\n                if (item === _this._menuPanel._menu && _this.isOpen()) {\n                    _this.closed.next();\n                    _this._overlayRef.detach();\n                }\n            });\n        };\n        CdkContextMenuTrigger.prototype.ngOnDestroy = function () {\n            this._destroyOverlay();\n            this._resetPanelMenuStack();\n            this._destroyed.next();\n            this._destroyed.complete();\n        };\n        /** Destroy and unset the overlay reference it if exists. */\n        CdkContextMenuTrigger.prototype._destroyOverlay = function () {\n            if (this._overlayRef) {\n                this._overlayRef.dispose();\n                this._overlayRef = null;\n            }\n        };\n        /** Set the menu panels menu stack back to null. */\n        CdkContextMenuTrigger.prototype._resetPanelMenuStack = function () {\n            // If a ContextMenuTrigger is placed in a conditionally rendered view, each time the trigger is\n            // rendered the panel setter for ContextMenuTrigger is called. From the first render onward,\n            // the attached CdkMenuPanel has the MenuStack set. Since we throw an error if a panel already\n            // has a stack set, we want to reset the attached stack here to prevent the error from being\n            // thrown if the trigger re-configures its attached panel (in the case where there is a 1:1\n            // relationship between the panel and trigger).\n            if (this._menuPanel) {\n                this._menuPanel._menuStack = null;\n            }\n        };\n        return CdkContextMenuTrigger;\n    }());\n    CdkContextMenuTrigger.decorators = [\n        { type: i0.Directive, args: [{\n                    selector: '[cdkContextMenuTriggerFor]',\n                    exportAs: 'cdkContextMenuTriggerFor',\n                    host: {\n                        '(contextmenu)': '_openOnContextMenu($event)',\n                    },\n                    providers: [\n                        // In cases where the first menu item in the context menu is a trigger the submenu opens on a\n                        // hover event. Offsetting the opened context menu by 2px prevents this from occurring.\n                        { provide: CDK_CONTEXT_MENU_DEFAULT_OPTIONS, useValue: ɵ0 },\n                    ],\n                },] }\n    ];\n    CdkContextMenuTrigger.ctorParameters = function () { return [\n        { type: i0.ViewContainerRef },\n        { type: overlay.Overlay },\n        { type: ContextMenuTracker },\n        { type: undefined, decorators: [{ type: i0.Inject, args: [CDK_CONTEXT_MENU_DEFAULT_OPTIONS,] }] },\n        { type: undefined, decorators: [{ type: i0.Inject, args: [common.DOCUMENT,] }] },\n        { type: bidi.Directionality, decorators: [{ type: i0.Optional }] }\n    ]; };\n    CdkContextMenuTrigger.propDecorators = {\n        menuPanel: [{ type: i0.Input, args: ['cdkContextMenuTriggerFor',] }],\n        opened: [{ type: i0.Output, args: ['cdkContextMenuOpened',] }],\n        closed: [{ type: i0.Output, args: ['cdkContextMenuClosed',] }],\n        disabled: [{ type: i0.Input, args: ['cdkContextMenuDisabled',] }]\n    };\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var EXPORTED_DECLARATIONS = [\n        CdkMenuBar,\n        CdkMenu,\n        CdkMenuPanel,\n        CdkMenuItem,\n        CdkMenuItemRadio,\n        CdkMenuItemCheckbox,\n        CdkMenuItemTrigger,\n        CdkMenuGroup,\n        CdkContextMenuTrigger,\n    ];\n    var CdkMenuModule = /** @class */ (function () {\n        function CdkMenuModule() {\n        }\n        return CdkMenuModule;\n    }());\n    CdkMenuModule.decorators = [\n        { type: i0.NgModule, args: [{\n                    imports: [overlay.OverlayModule],\n                    exports: EXPORTED_DECLARATIONS,\n                    declarations: EXPORTED_DECLARATIONS,\n                },] }\n    ];\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * Generated bundle index. Do not edit.\n     */\n\n    exports.CDK_CONTEXT_MENU_DEFAULT_OPTIONS = CDK_CONTEXT_MENU_DEFAULT_OPTIONS;\n    exports.CDK_MENU = CDK_MENU;\n    exports.CdkContextMenuTrigger = CdkContextMenuTrigger;\n    exports.CdkMenu = CdkMenu;\n    exports.CdkMenuBar = CdkMenuBar;\n    exports.CdkMenuGroup = CdkMenuGroup;\n    exports.CdkMenuItem = CdkMenuItem;\n    exports.CdkMenuItemCheckbox = CdkMenuItemCheckbox;\n    exports.CdkMenuItemRadio = CdkMenuItemRadio;\n    exports.CdkMenuItemTrigger = CdkMenuItemTrigger;\n    exports.CdkMenuModule = CdkMenuModule;\n    exports.CdkMenuPanel = CdkMenuPanel;\n    exports.ContextMenuTracker = ContextMenuTracker;\n    exports.MenuStack = MenuStack;\n    exports.ɵ0 = ɵ0;\n    exports.ɵangular_material_src_cdk_experimental_menu_menu_b = CdkMenuItemSelectable;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=cdk-experimental-menu.umd.js.map\n"]}